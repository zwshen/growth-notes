<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!--Converted with LaTeX2HTML 98.1 release (February 19th, 1998)
originally by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Problem A: Tower of Cubes</TITLE>
<META NAME="description" CONTENT="Problem A: Tower of Cubes">
<META NAME="keywords" CONTENT="htmlatex">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<LINK REL="STYLESHEET" HREF="htmlatex.css">
</HEAD>
<BODY LANG="EN" BGCOLOR=#FFFFFF>

<H1><BR CLEAR=ALL><CENTER><TABLE BGCOLOR=#0060F0><TR><TD><B><FONT SIZE=5 COLOR=#C0FFFF>&nbsp;<A NAME="SECTION0001000000000000000000">
Problem A: Tower of Cubes</A>&nbsp;</FONT></B></TABLE></CENTER>
</H1>
 
In this problem you are given <I>N</I> colorful cubes each having a distinct
weight. Each face of a cube is colored with one color. Your job is to build a
tower using the cubes you have subject to the following restrictions: 

<P>
<UL>
<LI>Never put a heavier cube on a lighter one.
<LI>The bottom face of every
cube (except the bottom cube, which is lying on the floor) must have the same
color as the top face of the cube below it.
<LI>Construct the tallest tower possible.
</UL>

<P>

<H2><FONT COLOR=#0070E8><A NAME="SECTION0001001000000000000000">
Input</A>&nbsp;</FONT>
</H2>
The input may contain multiple test cases. The first line of each test case contains 
an integer <I>N</I> (
<!-- MATH: $1 \le N \le 500$ -->
<IMG
 WIDTH="102" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="10051img2.gif"
 ALT="$1 \le N \le 500$">)
indicating the number of cubes you are given. The <I>i</I>­th (
<!-- MATH: $1 \le i \le
N$ -->
<IMG
 WIDTH="82" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="10051img3.gif"
 ALT="$1 \le i \le
N$">)
of the next <I>N</I> lines contains the description of the <I>i</I>­th cube. A cube
is described by giving the colors of its faces in the following order: front,
back, left, right, top and bottom face. For your convenience colors are
identified by integers in the range 1 to 100. You may assume that cubes are
given in the increasing order of their weights, that is, cube 1 is the
lightest and cube <I>N</I> is the heaviest.                 

<P>
The input terminates with a value <TT>0</TT> for <I>N</I>.                 

<P>

<H2><FONT COLOR=#0070E8><A NAME="SECTION0001002000000000000000">
Output</A>&nbsp;</FONT>
</H2>

<P>
For each test case in the input first print the test case number on a
separate line as shown in the sample output. On the next line print the number
of cubes in the tallest tower you have built. From the next line describe the
cubes in your tower from top to bottom with one description per line. Each
description contains an integer (giving the serial number of this cube in the
input) followed by a single white­space character and then the identification
string (front, back, left, right, top or bottom) of the top face of the cube
in the tower. Note that there may be multiple solutions and any one of them is
acceptable.                 

<P>
Print a blank line between two successive test cases.

<P>

<H2><FONT COLOR=#0070E8><A NAME="SECTION0001003000000000000000">
Sample Input</A>&nbsp;</FONT>
</H2> 
<PRE>
3
1 2 2 2 1 2
3 3 3 3 3 3
3 2 1 1 1 1
10
1 5 10 3 6 5
2 6 7 3 6 9
5 7 3 2 1 9
1 3 3 5 8 10
6 6 2 2 4 4
1 2 3 4 5 6
10 9 8 7 6 5
6 1 2 3 4 7
1 2 3 3 2 1
3 2 1 1 2 3
0
</PRE>
<H2><FONT COLOR=#0070E8><A NAME="SECTION0001004000000000000000">
Sample Output</A>&nbsp;</FONT>
</H2>
<PRE>
Case #1
2
2 front
3 front
 
Case #2
8
1 bottom
2 back
3 right
4 left
6 top
8 front
9 front
10 top
</PRE>

<P>

<P>
<BR><HR>
<ADDRESS>
<I>Miguel Revilla</I>
<BR><I>2000-12-28</I>
</ADDRESS>
</BODY>
</HTML>
</HTML>
