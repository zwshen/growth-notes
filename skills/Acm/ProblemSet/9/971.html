<html xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=iso-8859-1">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 10">
<meta name=Originator content="Microsoft Word 10">
<link rel=File-List href="E_files/filelist.xml">
<title>E - TOWERS</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>José Daniel Dias Pacheco</o:Author>
  <o:LastAuthor>José Daniel Dias Pacheco</o:LastAuthor>
  <o:Revision>1</o:Revision>
  <o:TotalTime>0</o:TotalTime>
  <o:Created>2006-10-03T13:17:00Z</o:Created>
  <o:LastSaved>2006-10-03T13:17:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>395</o:Words>
  <o:Characters>2254</o:Characters>
  <o:Company>DI-FCT/UNL</o:Company>
  <o:Lines>18</o:Lines>
  <o:Paragraphs>5</o:Paragraphs>
  <o:CharactersWithSpaces>2644</o:CharactersWithSpaces>
  <o:Version>10.3311</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:SpellingState>Clean</w:SpellingState>
  <w:GrammarState>Clean</w:GrammarState>
  <w:Compatibility>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Helvetica;
	panose-1:2 11 5 4 2 2 2 2 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:Courier;
	panose-1:2 7 4 9 2 2 5 2 4 4;
	mso-font-charset:0;
	mso-generic-font-family:modern;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:Times-Bold;
	panose-1:0 0 0 0 0 0 0 0 0 0;
	mso-font-alt:Times;
	mso-font-charset:77;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:auto;
	mso-font-signature:50331648 0 0 0 1 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
span.SpellE
	{mso-style-name:"";
	mso-spl-e:yes;}
span.GramE
	{mso-style-name:"";
	mso-gram-e:yes;}
@page Section1
	{size:595.0pt 842.0pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	mso-header-margin:36.0pt;
	mso-footer-margin:36.0pt;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-para-margin:0cm;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";}
</style>
<![endif]-->
</head>

<body lang=EN-US style='tab-interval:36.0pt'>

<div class=Section1>

<p class=MsoNormal align=center style='text-align:center'><b style='mso-bidi-font-weight:
normal'><span lang=EN-GB style='font-size:26.0pt;text-transform:uppercase;
mso-ansi-language:EN-GB'>E - Towers<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify'><span lang=EN-GB
style='mso-ansi-language:EN-GB'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify'><span lang=EN-GB
style='mso-ansi-language:EN-GB'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify'><b style='mso-bidi-font-weight:
normal'><span lang=EN-GB style='font-size:16.0pt;mso-ansi-language:EN-GB'>Problem<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify'><span lang=EN-GB
style='mso-ansi-language:EN-GB'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify'>The famous Babylonian King <span
class=SpellE>Samsu-Iluna</span> was fascinated by the stars that He could see
on the night sky. He believed that if He could build a tower tall enough He
could touch them and fulfill His destiny as divine ruler of the Babylonians. To
be able to build this tower He created large quarries where they dug and cut
the largest stone blocks they could find. Once the number of stone blocks seemed
large enough to build the tower, He ordered His best engineers to do so, but
they came to the terrible conclusion that not all blocks could stay on top
others.</p>

<p class=MsoNormal style='text-align:justify'>The problem was that, although
all blocks measured the same and all where roughly of cubic form, with six
faces, not all weighted the same, and heavier blocks could not be placed on top
of lighter ones. In addition to that, and due to technological problems, block
faces came in all <span class=GramE>sort</span> of shapes. This fact is
important, because to put one block on top of another, the two touching faces
must have the same shape. After a long study, the engineers were able to
categorize all the existing shapes, but due to the large number of different
shapes and blocks, they weren’t sure how to arrange the blocks in order to
build the tallest tower possible.</p>

<p class=MsoNormal style='text-align:justify'>Aware of this problem the King
promised to give half of His fortune to anyone able to stack the given blocks
to build the tallest possible tower. Your objective is to write a program to
calculate the <b style='mso-bidi-font-weight:normal'>size</b> of such tallest
tower.<o:p></o:p></p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify'><b style='mso-bidi-font-weight:
normal'><span style='font-size:16.0pt'>Input<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify'>The input file may contain a
sequence of various test cases. The first line of each test case contains a
positive integer <i>N</i><span style='mso-bidi-font-style:italic'> (not larger
than 1000) indicating the number of blocks in the test case. Each of the
following <i>N</i> lines will contain the description of one block. Each block
i</span>s described by a sequence of seven integer numbers: the first gives the
weight of the block (a positive integer), and the following six numbers give
the shapes of each of the block sides, in the following order: front, back,
left, right, top and bottom. Shapes are classified by integers in the range 1
to 1000 (including 1 and 1000), and no two blocks have the same weight. The
input terminates by giving the value -1 for <i>N</i>.<o:p></o:p></p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify'><b style='mso-bidi-font-weight:
normal'><span style='font-size:16.0pt'>Output<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify'>For each test case in the input
file, the output file must contain a line with a single integer, indicating the
number of blocks in the tallest tower that may be built with the blocks in the
corresponding test case.</p>

<p class=MsoNormal style='text-align:justify'><span style='font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;mso-layout-grid-align:none;
text-autospace:none'><b style='mso-bidi-font-weight:normal'><span
style='font-size:16.0pt;mso-bidi-font-size:21.0pt;font-family:Times-Bold;
mso-ascii-font-family:Times-Bold;mso-hansi-font-family:Times-Bold;mso-bidi-font-family:
"Times New Roman"'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='mso-pagination:none;mso-layout-grid-align:none;
text-autospace:none'><b style='mso-bidi-font-weight:normal'><span
style='font-size:16.0pt;mso-bidi-font-size:21.0pt;font-family:Times-Bold;
mso-ascii-font-family:Times-Bold;mso-hansi-font-family:Times-Bold;mso-bidi-font-family:
"Times New Roman"'>Sample Input</span></b><span style='font-size:16.0pt;
mso-bidi-font-size:12.0pt;font-family:Helvetica'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;mso-layout-grid-align:none;
text-autospace:none'><span style='mso-bidi-font-size:16.0pt;font-family:Courier'>3</span><span
style='font-family:Courier'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;mso-layout-grid-align:none;
text-autospace:none'><span style='mso-bidi-font-size:16.0pt;font-family:Courier'>1
<span class=SpellE>1</span> 2 <span class=SpellE>2</span> <span class=SpellE>2</span>
1 2</span><span style='font-family:Courier'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;mso-layout-grid-align:none;
text-autospace:none'><span style='mso-bidi-font-size:16.0pt;font-family:Courier'>2
3 <span class=SpellE>3</span> <span class=SpellE>3</span> <span class=SpellE>3</span>
<span class=SpellE>3</span> <span class=SpellE>3</span></span><span
style='font-family:Courier'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;mso-layout-grid-align:none;
text-autospace:none'><span style='mso-bidi-font-size:16.0pt;font-family:Courier'>3
<span class=SpellE>3</span> 2 1 <span class=SpellE>1</span> <span class=SpellE>1</span>
<span class=SpellE>1</span></span><span style='font-family:Courier'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;mso-layout-grid-align:none;
text-autospace:none'><span style='mso-bidi-font-size:16.0pt;font-family:Courier'>10</span><span
style='font-family:Courier'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;mso-layout-grid-align:none;
text-autospace:none'><span style='mso-bidi-font-size:16.0pt;font-family:Courier'>150
1 2 3 4 5 6</span><span style='font-family:Courier'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;mso-layout-grid-align:none;
text-autospace:none'><span style='mso-bidi-font-size:16.0pt;font-family:Courier'>100
1 5 10 3 6 5</span><span style='font-family:Courier'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;mso-layout-grid-align:none;
text-autospace:none'><span style='mso-bidi-font-size:16.0pt;font-family:Courier'>170
6 1 2 3 4 7</span><span style='font-family:Courier'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;mso-layout-grid-align:none;
text-autospace:none'><span style='mso-bidi-font-size:16.0pt;font-family:Courier'>120
5 7 3 2 1 9</span><span style='font-family:Courier'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;mso-layout-grid-align:none;
text-autospace:none'><span style='mso-bidi-font-size:16.0pt;font-family:Courier'>160
10 9 8 7 6 5</span><span style='font-family:Courier'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;mso-layout-grid-align:none;
text-autospace:none'><span style='mso-bidi-font-size:16.0pt;font-family:Courier'>130
1 3 <span class=SpellE>3</span> 5 8 10</span><span style='font-family:Courier'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;mso-layout-grid-align:none;
text-autospace:none'><span style='mso-bidi-font-size:16.0pt;font-family:Courier'>140
6 <span class=SpellE>6</span> 2 <span class=SpellE>2</span> 4 <span
class=SpellE>4</span></span><span style='font-family:Courier'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;mso-layout-grid-align:none;
text-autospace:none'><span style='mso-bidi-font-size:16.0pt;font-family:Courier'>180
1 2 3 <span class=SpellE>3</span> 2 1</span><span style='font-family:Courier'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;mso-layout-grid-align:none;
text-autospace:none'><span style='mso-bidi-font-size:16.0pt;font-family:Courier'>110
2 6 7 3 6 9</span><span style='font-family:Courier'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;mso-layout-grid-align:none;
text-autospace:none'><span style='mso-bidi-font-size:16.0pt;font-family:Courier'>190
3 2 1 <span class=SpellE>1</span> 2 3</span><span style='font-family:Courier'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;mso-layout-grid-align:none;
text-autospace:none'><span style='mso-bidi-font-size:16.0pt;font-family:Courier'>-1<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;mso-layout-grid-align:none;
text-autospace:none'><span style='font-family:Helvetica'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;mso-layout-grid-align:none;
text-autospace:none'><b style='mso-bidi-font-weight:normal'><span
style='font-size:16.0pt;mso-bidi-font-size:21.0pt;font-family:Times-Bold;
mso-ascii-font-family:Times-Bold;mso-hansi-font-family:Times-Bold;mso-bidi-font-family:
"Times New Roman"'>Sample Output</span></b><span style='font-size:16.0pt;
mso-bidi-font-size:12.0pt;font-family:Helvetica'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;mso-layout-grid-align:none;
text-autospace:none'><span style='mso-bidi-font-size:16.0pt;font-family:Courier'>2</span><span
style='font-family:Courier'><o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify'><span style='mso-bidi-font-size:
16.0pt;font-family:Courier'>8</span><span style='font-family:Courier'><o:p></o:p></span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

</div>

</body>

</html>
