
<!--Converted with LaTeX2HTML 2002-2-1 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>A Homer's Holiday</TITLE>
<META NAME="description" CONTENT="A Homer's Holiday">
<META NAME="keywords" CONTENT="htmlatex">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="htmlatex.css">

</HEAD>

<BODY LANG="EN" BGCOLOR=#FFFFFF>

<H1><BR CLEAR=ALL><CENTER><TABLE BGCOLOR=#0000ff><TR><TD><B><FONT SIZE=5 COLOR=#FFff00>&nbsp;<A NAME="SECTION0001000000000000000000">
A Homer's Holiday</A>&nbsp;</FONT></B></TABLE></CENTER>
</H1>

<P>
You live on the planet <I>HomeSweetHome</I> - you are a Homer - and
you are planning a holiday trip with some Homer friends. Your
planet belongs to a very ``populated" solar system - there are
20000 planets easily reachable with your new MegaSpeed X3 Turbo
spaceship!

<P>
You have already sketched some possible paths and you are trying
to choose one of them. There are some points that you find
important that can make you choose one path over another. Surely
everyone prefers to visit planets where they can breathe (so not
to take air masks and oxygen bottles). However, this should be
balanced with other characteristics; for example, whether the
sights are beautiful, whether you can refuel your spaceship,
whether the temperature is Homer-bearable, etc.

<P>
You have already gathered the most relevant information about the
planets you are interested in visiting. You would like to have an
easy way to perceive some global characteristics of every possible
path, in order to make a more knowledgeable choice.

<P>

<P>
<BR>
You need a program that, given a path and the characteristics of every
planet along that path, tells you whether some given global properties
hold in that path.

<P>
The relevant characteristics of each planet are represented by
propositional symbols; for example <TT>canBreathe</TT>, <TT>canSee</TT>,
<TT>canWalk</TT>, <TT>canRefuel</TT>, <TT>hasFood</TT>, <TT>niceSights</TT>, <TT>  hasWater</TT>, <TT>muchCold</TT>, etc. The information about each planet is
given to you as a set of propositional symbols that are known to be 
true for that planet; for example, <TT>canSee, hasFood, canWalk</TT> 
characterizes a planet where you are able to see what is around you, that has
available food supplies, and where you can walk around freely.

<P>
A path is characterized by a number of planets and the properties of
each one of them; the order by which the planets are described is
important, insofar as it denotes the order by which they are going to
be visited.  The global characteristics of the path that you want to
be able to "ask" the computer are expressed in the following language
(given in BNF):

<P>
<PRE>
Expression ::= AllExpr | SomeExpr | NextExpr | proposition
AllExpr ::= `A' integer Expression
SomeExpr ::= `S' integer Expression
NextExpr ::= `N' Expression
</PRE>

<P>
A proposition cannot start by a digit.
Every expression is evaluated for a given planet - the <B>current</B>
planet - within a path. The initial current planet is always the first
planet in the path.  The expression <TT>Aiprop</TT> is true on the
current planet if <TT>prop</TT> is true in all planets that are <TT>i</TT>
or more positions ahead of the current one in the path.  The expression 
<TT>Siprop</TT> is true on the current planet if <TT>prop</TT> is true in some
of the planets that are <TT>i</TT> or more positions ahead of the current 
one in the path. The expression <TT>Nprop</TT> is true on the current planet 
if <TT>prop</TT> is true in the planet that follows the current one in the 
path.

<P>
Let us suppose a path <TT>p1 p2 p3 p4 p5</TT>. All expressions that we
want to evaluate for the path start being evaluated in the first planet 
- p1 - which is the initial current planet. Some examples follow:

<P>
<DL>
<DT><STRONG><TT>A0canBreathe</TT></STRONG></DT>
<DD>- all planets in the path are "breathable"
  (in the example, this expression is true for the path if it is the
  case that the proposition <TT>canBreathe</TT> is true in all <TT>p1,
    p2, p3, p4</TT> and <TT>p5</TT> planets)

<P>
</DD>
<DT><STRONG><TT>A3hasFood</TT></STRONG></DT>
<DD>- from the third planet onwards, not including
  that third one, all planets in the path have available food supplies
  (in the example, this expression is true for the path if it is the
  case that the proposition <TT>hasFood</TT> is true in <TT>p4</TT> and in
  <TT>p5</TT>)

<P>
</DD>
<DT><STRONG><TT>S0muchCold</TT></STRONG></DT>
<DD>- there is at least one planet in the path
  which is too much cold (in the example, this is true if at least one
  of the planets in the path has the characteristic <TT>muchCold</TT>)

<P>
</DD>
<DT><STRONG><TT>S2A1hasWater</TT></STRONG></DT>
<DD>- from the second planet onwards, not
  including that second one, there is some planet for which all the
  ones that follow it in the path have water (in the example, this
  expression is true if <TT>A1hasWater</TT> is true in at least one of
  the <TT>p3, p4</TT> and <TT>p5</TT> planets; the expression <TT>    A1hasWater</TT> is true in <TT>p3</TT>, for example, if <TT>hasWater</TT> is
  true in all planets from <TT>p4</TT> onwards, that is, in <TT>p4</TT> and
  in <TT>p5</TT>)

<P>
</DD>
<DT><STRONG><TT>A0S1hasWater</TT></STRONG></DT>
<DD>- in all planets we can expect that there is
  some planet in the rest of the path where there is water available
  (in the example, this expression is true for the path if <TT>S1hasWater</TT>
  is true in all planets of the path; the expression <TT>S1hasWater</TT> 
is
  true in <TT>p2</TT>, for example, if <TT>hasWater</TT> is true
  in some of the <TT>p3, p4</TT> and <TT>p5</TT> planets)

<P>
</DD>
<DT><STRONG><TT>A0NhasFood</TT></STRONG></DT>
<DD>- the successor planet of all planets in the
  path has food (in the example, this expression is true for the path
  if it is the case that the proposition <TT>NhasFood</TT> is true in all
  <TT>p1, p2, p3, p4</TT> and <TT>p5</TT> planets; the expression <TT>    NhasFood</TT> is true in <TT>p1</TT>, for example, it the proposition
  <TT>hasFood</TT> is true in <TT>p2</TT>)

<P>
Note that whenever it is not possible to evaluate an expression in a
  path, for example when the current planet does not exist, the
  expression evaluates to true. In the example, the expression <TT>    NhasFood</TT> is true in <TT>p5</TT> because there is no Next planet
  following <TT>p5</TT> in the path.
</DD>
</DL>

<P>

<H2><FONT size=4 COLOR=#ff0000><A NAME="SECTION0001001000000000000000">
Input</A>&nbsp;</FONT>
</H2>
<B>The input will contain several test cases, each of them as described below.
Consecutive test cases are separated by a single blank line.
</B>

<P>

<P><P>
<BR>

<P>
The first line of input contains an integer <SPAN CLASS="MATH"><I>P</I></SPAN> (<!-- MATH
 $0 < P \le
150$
 -->
<SPAN CLASS="MATH">0 &lt; <I>P</I><IMG
 WIDTH="18" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="958img1.png"
 ALT="$ \le$">150</SPAN>) that denotes the number of planets in the path.

<P>
The following <SPAN CLASS="MATH"><I>P</I></SPAN> lines contain the propositions (separated by
spaces) corresponding to the properties that each of the planets in
the path has. Each proposition is a string of up to 10 characters
(spaces are not allowed). There is a maximum of 30 propositions per 
planet.

<P>
The following line contains an integer <SPAN CLASS="MATH"><I>Q</I></SPAN> (<!-- MATH
 $0 < Q < 50$
 -->
<SPAN CLASS="MATH">0 &lt; <I>Q</I> &lt; 50</SPAN>)
which denotes the number of expressions that follow.  The following
<SPAN CLASS="MATH"><I>Q</I></SPAN> lines contain an expression each. These expressions are
written in the above specified language. The integers that are part of
<TT>AllExpr</TT> and <TT>SomeExpr</TT> expressions may take values in the
interval <SPAN CLASS="MATH">[0, 150[</SPAN> (the upper limit is the maximum number of planets
given above).

<P>

<H2><FONT size=4 COLOR=#ff0000><A NAME="SECTION0001002000000000000000">
Output</A>&nbsp;</FONT>
</H2>
<B>For each test case, the output must follow the description below. 
The outputs of two consecutive cases will be separated by a blank line.
</B>

<P>

<P><P>
<BR>

<P>
The output has <SPAN CLASS="MATH"><I>Q</I></SPAN> lines, each one containing the word `<TT>yes</TT>'
or `<TT>no</TT>' depending on the validity of each of the <SPAN CLASS="MATH"><I>Q</I></SPAN> 
expressions for the path given in the input.

<P>

<H2><FONT size=4 COLOR=#ff0000><A NAME="SECTION0001003000000000000000">
Sample Input</A>&nbsp;</FONT>
</H2>

<P>
<PRE>
4
canBreathe hasFood hasWater
canBreathe hasWater
hasWater muchCold
hasFood muchCold hasWater
24
A0canBreathe
A3hasFood
S0muchCold
S2A1hasWater
A0S1hasWater
A0NhasFood
A0hasWater
A1canBreathe
A3canBreathe
A2muchCold
A0S0muchCold
A0S3muchCold
A0S2NmuchCold
S122muchCold
NNA1canBreathe
NNA1hasFood
S2A0hasWater
S1A0muchCold
A1S1muchCold
A1S1canBreathe
A2S3muchCold
A0NS2muchCold
A0NS2canBreathe
A1S0A0NhasWater
</PRE>

<P>

<H2><FONT size=4 COLOR=#ff0000><A NAME="SECTION0001004000000000000000">
Sample Output</A>&nbsp;</FONT>
</H2>

<P>
<PRE>
no
yes
yes
yes
yes
no
yes
no
no
yes
yes
yes
yes
yes
no
yes
yes
yes
yes
no
yes
yes
no
yes
</PRE>

<P>


<P>
<BR><HR>
<ADDRESS>
MIUP'2006
</ADDRESS>
</BODY>
</HTML>
</HTML>
