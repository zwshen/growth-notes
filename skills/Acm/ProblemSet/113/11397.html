<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 10">
<meta name=Originator content="Microsoft Word 10">
<link rel=File-List href="Reconstructing%20Binary%20Forests_files/filelist.xml">
<link rel=Edit-Time-Data
href="Reconstructing%20Binary%20Forests_files/editdata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<title>Reconstructing Binary Forests</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Manzurur Rahman Khan</o:Author>
  <o:Template>Normal</o:Template>
  <o:LastAuthor>mahmud</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>355</o:TotalTime>
  <o:LastPrinted>2007-07-29T19:28:00Z</o:LastPrinted>
  <o:Created>2008-01-16T13:50:00Z</o:Created>
  <o:LastSaved>2008-01-16T13:50:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>302</o:Words>
  <o:Characters>1728</o:Characters>
  <o:Company>Killer Solution</o:Company>
  <o:Lines>14</o:Lines>
  <o:Paragraphs>4</o:Paragraphs>
  <o:CharactersWithSpaces>2026</o:CharactersWithSpaces>
  <o:Version>10.2625</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:PunctuationKerning/>
  <w:Compatibility>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;
	mso-font-charset:2;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:0 268435456 0 0 -2147483648 0;}
@font-face
	{font-family:Vrinda;
	panose-1:0 0 4 0 0 0 0 0 0 0;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:0 0 0 0 0 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:Vrinda;}
h1
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:1;
	font-size:16.0pt;
	font-family:Arial;
	mso-bidi-font-family:Vrinda;
	mso-font-kerning:16.0pt;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 @list l0
	{mso-list-id:253628859;
	mso-list-type:hybrid;
	mso-list-template-ids:-1472280236 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l0:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	font-family:Symbol;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";}
table.MsoTableGrid
	{mso-style-name:"Table Grid";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	border:solid windowtext 1.0pt;
	mso-border-alt:solid windowtext .5pt;
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-border-insideh:.5pt solid windowtext;
	mso-border-insidev:.5pt solid windowtext;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="2050"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
  <o:rules v:ext="edit">
   <o:r id="V:Rule2" type="connector" idref="#_x0000_s1037">
    <o:proxy start="" idref="#_x0000_s1034" connectloc="3"/>
    <o:proxy end="" idref="#_x0000_s1035" connectloc="0"/>
   </o:r>
   <o:r id="V:Rule4" type="connector" idref="#_x0000_s1038">
    <o:proxy start="" idref="#_x0000_s1034" connectloc="4"/>
    <o:proxy end="" idref="#_x0000_s1036" connectloc="0"/>
   </o:r>
   <o:r id="V:Rule5" type="connector" idref="#_x0000_s1042"/>
   <o:r id="V:Rule6" type="connector" idref="#_x0000_s1043"/>
  </o:rules>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=EN-US style='tab-interval:.5in'>

<div class=Section1>

<p class=MsoNormal align=center style='text-align:center'><b style='mso-bidi-font-weight:
normal'><span style='font-size:24.0pt;font-family:Arial'>Problem C</span></b><span
style='font-size:24.0pt;font-family:Arial'><br>
</span><b><span style='font-size:20.0pt;font-family:Arial'>Reconstructing
Binary Forests</span></b><b><span style='font-size:24.0pt;font-family:Arial'><o:p></o:p></span></b></p>

<p class=MsoNormal align=center style='text-align:center'><b style='mso-bidi-font-weight:
normal'><span style='font-size:11.0pt;font-family:Arial'>Input: </span></b><span
style='font-size:11.0pt;font-family:Arial;mso-bidi-font-weight:bold'>Standard
Input<o:p></o:p></span></p>

<p class=MsoNormal align=center style='text-align:center'><b style='mso-bidi-font-weight:
normal'><span style='font-size:11.0pt;font-family:Arial'>Output: </span></b><span
style='font-size:11.0pt;font-family:Arial;mso-bidi-font-weight:bold'>Standard
Output<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify'><span style='font-size:11.0pt;
font-family:Arial;mso-bidi-font-weight:bold'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify'><i>Definition 1: A <b>tree</b> is
a connected undirected graph with no simple circuits.<o:p></o:p></i></p>

<p class=MsoNormal style='text-align:justify'><i>Definition 2: A <b>rooted tree</b>
is a tree in which one vertex has been designated as the root and every edge is
directed away from the root.<o:p></o:p></i></p>

<p class=MsoNormal style='text-align:justify'><i>Definition 3: In a rooted
tree, if v is a vertex other than <b>root</b>, then the parent of v is the
unique node u, such that, there is a directed edge from u to v.<o:p></o:p></i></p>

<p class=MsoNormal style='text-align:justify'><i>Definition 4: In a rooted
tree, the <b>children</b> of a vertex v are the set of vertices, for which, u
is the parent.<o:p></o:p></i></p>

<p class=MsoNormal style='text-align:justify'><i>Definition 5: <b>Ancestor</b>
of a vertex other than root are the vertices in the path from root to it’s
vertex.<o:p></o:p></i></p>

<p class=MsoNormal style='text-align:justify'><i>Definition 6: The <b>descendents</b>
of a vertex v are those vertices, that have v as an ancestor.<o:p></o:p></i></p>

<p class=MsoNormal style='text-align:justify'><i>Definition 7: A rooted tree is
called <b>full m-ary tree</b>, if every internal vertex has exactly m children.<o:p></o:p></i></p>

<p class=MsoNormal style='text-align:justify'><i>Definition 8: <b>Height of a
node</b> is the length of the path from that to the farthest descendent leaf.<o:p></o:p></i></p>

<p class=MsoNormal style='text-align:justify'><i>Definition 9: A <b>forest</b> is
a graph, which is composed of one or more trees.<o:p></o:p></i></p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify'>Given the height of each non leaf
node in a forest, find the number of ways to build the forest. All the trees
are complete binary tree, and you can assume that, there are always enough leaf
nodes to complete the tree.</p>

<p class=MsoNormal style='text-align:justify'>You have to find the number of
trees, when all nodes are of different colors.</p>

<p class=MsoNormal style='text-align:justify'><!--[if mso & !supportInlineShapes & supportFields]><span
style='mso-element:field-begin;mso-field-lock:yes'></span><span
style='mso-spacerun:yes'> </span>SHAPE<span style='mso-spacerun:yes'> 
</span>\* MERGEFORMAT <span style='mso-element:field-separator'></span><![endif]--><!--[if gte vml 1]><v:group
 id="_x0000_s1033" editas="canvas" style='width:6in;height:126pt;
 mso-position-horizontal-relative:char;mso-position-vertical-relative:line'
 coordorigin="3135,9452" coordsize="7200,2160">
 <o:lock v:ext="edit" aspectratio="t"/>
 <v:shapetype id="_x0000_t75" coordsize="21600,21600" o:spt="75"
  o:preferrelative="t" path="m@4@5l@4@11@9@11@9@5xe" filled="f" stroked="f">
  <v:stroke joinstyle="miter"/>
  <v:formulas>
   <v:f eqn="if lineDrawn pixelLineWidth 0"/>
   <v:f eqn="sum @0 1 0"/>
   <v:f eqn="sum 0 0 @1"/>
   <v:f eqn="prod @2 1 2"/>
   <v:f eqn="prod @3 21600 pixelWidth"/>
   <v:f eqn="prod @3 21600 pixelHeight"/>
   <v:f eqn="sum @0 0 1"/>
   <v:f eqn="prod @6 1 2"/>
   <v:f eqn="prod @7 21600 pixelWidth"/>
   <v:f eqn="sum @8 21600 0"/>
   <v:f eqn="prod @7 21600 pixelHeight"/>
   <v:f eqn="sum @10 21600 0"/>
  </v:formulas>
  <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
  <o:lock v:ext="edit" aspectratio="t"/>
 </v:shapetype><v:shape id="_x0000_s1032" type="#_x0000_t75" style='position:absolute;
  left:3135;top:9452;width:7200;height:2160' o:preferrelative="f">
  <v:fill o:detectmouseclick="t"/>
  <v:path o:extrusionok="t" o:connecttype="none"/>
  <o:lock v:ext="edit" text="t"/>
 </v:shape><v:shapetype id="_x0000_t120" coordsize="21600,21600" o:spt="120"
  path="m10800,qx,10800,10800,21600,21600,10800,10800,xe">
  <v:path gradientshapeok="t" o:connecttype="custom" o:connectlocs="10800,0;3163,3163;0,10800;3163,18437;10800,21600;18437,18437;21600,10800;18437,3163"
   textboxrect="3163,3163,18437,18437"/>
 </v:shapetype><v:shape id="_x0000_s1034" type="#_x0000_t120" style='position:absolute;
  left:4335;top:9606;width:300;height:309' fillcolor="black"/>
 <v:shape id="_x0000_s1035" type="#_x0000_t120" style='position:absolute;
  left:3735;top:11149;width:300;height:309' fillcolor="gray"/>
 <v:shape id="_x0000_s1036" type="#_x0000_t120" style='position:absolute;
  left:4785;top:11149;width:300;height:309'/>
 <v:shapetype id="_x0000_t32" coordsize="21600,21600" o:spt="32" o:oned="t"
  path="m,l21600,21600e" filled="f">
  <v:path arrowok="t" fillok="f" o:connecttype="none"/>
  <o:lock v:ext="edit" shapetype="t"/>
 </v:shapetype><v:shape id="_x0000_s1037" type="#_x0000_t32" style='position:absolute;
  left:3885;top:9869;width:494;height:1280;flip:x' o:connectortype="straight"/>
 <v:shape id="_x0000_s1038" type="#_x0000_t32" style='position:absolute;left:4485;
  top:9915;width:450;height:1234' o:connectortype="straight"/>
 <v:shape id="_x0000_s1039" type="#_x0000_t120" style='position:absolute;
  left:6735;top:9606;width:300;height:309' fillcolor="black"/>
 <v:shape id="_x0000_s1040" type="#_x0000_t120" style='position:absolute;
  left:6135;top:11149;width:300;height:310'/>
 <v:shape id="_x0000_s1041" type="#_x0000_t120" style='position:absolute;
  left:7185;top:11149;width:300;height:310' fillcolor="gray"/>
 <v:shape id="_x0000_s1042" type="#_x0000_t32" style='position:absolute;left:6285;
  top:9870;width:494;height:1279;flip:x' o:connectortype="straight"/>
 <v:shape id="_x0000_s1043" type="#_x0000_t32" style='position:absolute;left:6885;
  top:9915;width:450;height:1234' o:connectortype="straight"/>
 <w:wrap type="none"/>
 <w:anchorlock/>
</v:group><![endif]--><![if !vml]><img width=576 height=168
src="p11397.gif" v:shapes="_x0000_s1033 _x0000_s1032 _x0000_s1034 _x0000_s1035 _x0000_s1036 _x0000_s1037 _x0000_s1038 _x0000_s1039 _x0000_s1040 _x0000_s1041 _x0000_s1042 _x0000_s1043"><![endif]><!--[if mso & !supportInlineShapes & supportFields]><v:shape
 id="_x0000_i1025" type="#_x0000_t75" style='width:6in;height:126pt'>
 <v:imagedata croptop="-65520f" cropbottom="65520f"/>
</v:shape><span style='mso-element:field-end'></span><![endif]--></p>

<p class=MsoNormal style='text-align:justify'>Please remember, these two trees
are different. But, within a forest, ordering of trees doesn’t matter.</p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify'><b>Input and Output<o:p></o:p></b></p>

<p class=MsoNormal style='text-align:justify'>Input contains multiple test
cases. Each test case, starts with two integers N and M. N is the number of
nodes. Next line contains N integers, the height of each non leaf node. Each
input is followed by a blank line.</p>

<p class=MsoNormal style='text-align:justify'>For each test case, output the
number of forests when all the node are of different color. Output all number
modulo M. </p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify'><b>Constraints<o:p></o:p></b></p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='text-align:justify;mso-list:l0 level1 lfo1;
     tab-stops:list .5in'>1 &lt;= N &lt;= 100<o:p></o:p></li>
 <li class=MsoNormal style='text-align:justify;mso-list:l0 level1 lfo1;
     tab-stops:list .5in'>1 &lt;= M &lt;= 100000000<o:p></o:p></li>
 <li class=MsoNormal style='text-align:justify;mso-list:l0 level1 lfo1;
     tab-stops:list .5in'>Height of each node will be &lt;= N<o:p></o:p></li>
</ul>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify'><b>Sample Input<span
style='mso-tab-count:5'>                                                  </span>
Output for Sample Input<o:p></o:p></b></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;mso-border-insideh:
 .5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-lastrow:yes'>
  <td width=295 valign=top style='width:221.4pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'>2 1000</p>
  <p class=MsoNormal style='text-align:justify'>2 1</p>
  <p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>
  <p class=MsoNormal style='text-align:justify'>3 1000</p>
  <p class=MsoNormal style='text-align:justify'>2 1 1</p>
  <p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>
  </td>
  <td width=295 valign=top style='width:221.4pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'>2</p>
  <p class=MsoNormal style='text-align:justify'>6</p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<div class=MsoNormal align=center style='text-align:center'>

<hr size=2 width="100%" align=center>

</div>

<p class=MsoNormal style='text-align:justify'>Problemsetter: Manzurur Rahman
Khan<o:p></o:p></p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

</div>

</body>

</html>
