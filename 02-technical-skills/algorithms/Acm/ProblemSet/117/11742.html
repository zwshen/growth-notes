<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head>


	<title>Problem A: Social Constraints</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head><body>

<h2>Problem A: Social Constraints</h2>

<font color="white"><img src="p11742.jpg" width="400" align="right" border="5"></font>
<p>Socializing can be a very complicated thing among teenagers. For
example, finding a good seating arrangement in a movie theater can be a
difficult task. Here is a list of constraints that could potentially
apply to two individuals A and B in this situation:
</p><ul><li>if A and B are dating, then they must sit beside each other
</li><li>if A and B are fighting, then they cannot sit beside each other
</li><li>if A and B have just broke up, then they must sit at opposite ends of the row
</li></ul>
<p>Teenage politics is a complicated thing meaning the constraints can
get even more complicated than those listed above.
However, we restrict this problem to a particular form of constraint
that simply specifies a lower or upper bound on the number of seats
separating two specific individuals.
</p>
<p>The group arrives after everyone else watching the show has been
seated. By some stroke of luck, there are exactly as many open seats as
there are teenagers and all of these seats appear consecutively in the
front row. How many possible seating arrangements satisfy the
constraints?
</p>

<h3>Input Format</h3>
<p>Each test case begins with two integers n and m with 0 &lt; n ≤ 8
and 0 ≤ m ≤ 20
where n is the size of the group. For simplicity, assume the teenagers
are numbered from 0 to n-1. Then of m lines follow, each describing a
constraint, where a line consists of three integers a,b,c satisfying 0
≤ a &lt; b &lt; n and 0 &lt; |c| &lt; n. If c is positive then
teenagers a and b must sit at most c seats apart. If
c is negative, then a and b must sit at least -c seats apart. The end
of input is signaled by a line consisting of n = m = 0.
</p>

<h3>Output Format</h3>
<p>The output for each test case is a single line containing the number
of possible seating arrangements for the group that satisfy all of the
social constraints.
</p>
<h3>Sample Input</h3>
<pre>3 1
0 1 -2
3 0
0 0
</pre>
<h3>Sample Output</h3>
<pre>2
6
</pre>

<hr>
<em>Zachary Friggstad</em>

</body></html>
