
<!--Converted with LaTeX2HTML 2002-2-1 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Tetravex Solver</TITLE>
<META NAME="description" CONTENT="Tetravex Solver">
<META NAME="keywords" CONTENT="htmlatex">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="htmlatex.css">

</HEAD>

<BODY LANG="EN" BGCOLOR=#FFFFFF>

<H1><BR CLEAR=ALL><CENTER><TABLE BGCOLOR=#0000ff><TR><TD><B><FONT SIZE=5 COLOR=#FFff00>&nbsp;<A NAME="SECTION0001000000000000000000">
Tetravex Solver</A>&nbsp;</FONT></B></TABLE></CENTER>
</H1>

<P>
In the so-called tetravex puzzle, <SPAN CLASS="MATH"><I>MN</I></SPAN> square pieces are to be placed 
side-by-side inside an
<SPAN CLASS="MATH"><I>M</I> <TT>x</TT> <I>N</I></SPAN> rectangle so that touching sides have the same number.

<P>
Given <SPAN CLASS="MATH">16</SPAN> different square pieces, arrange them in a <SPAN CLASS="MATH">4 <TT>x</TT> 4</SPAN> 
square. Touching sides must have
the same number. The following figure illustrates what is desired.

<P>
<DIV ALIGN="CENTER">
<!-- MATH
 $\epsfbox{p954a.eps}$
 -->
<IMG
 WIDTH="839" HEIGHT="404" ALIGN="BOTTOM" BORDER="0"
 SRC="p954a.png"
 ALT="\epsfbox{p954a.eps}">
</DIV>

<P>

<H2><FONT size=4 COLOR=#ff0000><A NAME="SECTION0001001000000000000000">
Input</A>&nbsp;</FONT>
</H2>

<P>
<B>The input will contain several test cases, each of them as described below.
Consecutive test cases are separated by a single blank line.
</B>

<P>

<P><P>
<BR>

<P>
Each piece is encoded by four consecutive one digit numbers, each of 
which represented in the
ASCII character set; <SPAN CLASS="MATH">0</SPAN>&nbsp;will be represented by <code>ascii(48)</code>, i.e., 
by <code>'0'</code> in the
<code>C</code>&nbsp;language, <SPAN CLASS="MATH">1</SPAN>&nbsp;by <code>ascii(49)</code>, and so on, up to 
<SPAN CLASS="MATH">9</SPAN>&nbsp;(<code>ascii(57)</code>). The four
digits represent, from left to right, the one digit numbers associated 
with the right, up, left,
and down sides. For example, the string <code>"3195"</code> (the 
double-quotation marks will not be
present in the input) represents the square piece shown on the right.

<P>
<DIV ALIGN="CENTER">
<!-- MATH
 $\epsfbox{p954b.eps}$
 -->
<IMG
 WIDTH="139" HEIGHT="126" ALIGN="BOTTOM" BORDER="0"
 SRC="p954b.png"
 ALT="\epsfbox{p954b.eps}">
</DIV>

<P>
This representation must also be used in the output. There must be at 
least one white space
character between the piece representations. A white space character is 
either a space, i.e.,
<code>ascii(32)</code>, <code>' '</code> in the <code>C</code>&nbsp;language, or a new line 
character (also known as the
line feed character), i.e., <code>ascii(10)</code>, <code>'\n'</code> in the 
<code>C</code>&nbsp;language. There may
exist white space characters both before the description of the first 
piece and after the
description of the last piece. If any other characters (i.e., not a 
digit nor a white space) are
present then the input is not valid. The input is also not valid when 
there are repeated pieces.
Two pieces are equal if and only if they have the same representation.

<P>

<H2><FONT size=4 COLOR=#ff0000><A NAME="SECTION0001002000000000000000">
Output</A>&nbsp;</FONT>
</H2>

<P>
<B>For each test case, the output must follow the description below. 
The outputs of two consecutive cases will be separated by a blank line.
</B>

<P>

<P><P>
<BR>

<P>
The first line of the output must contain a single digit, represented 
in the ASCII character set,
immediately followed by the new line character. This digit must be

<P>

<UL>
<LI><SPAN CLASS="MATH">0</SPAN>, if the input is not valid, or
</LI>
<LI><SPAN CLASS="MATH">1</SPAN>, if the input is valid and there are no solutions, or
</LI>
<LI><SPAN CLASS="MATH">2</SPAN>, if the input is valid and there is only one solution, or
</LI>
<LI><SPAN CLASS="MATH">3</SPAN>, if the input is valid and there are two or more solutions.
</LI>
</UL>

<P>
If there is only one solution, the output must have <SPAN CLASS="MATH">4</SPAN>&nbsp;more lines, 
each of which containing the
pieces of one row of the solution, top row first. Each of these 
<SPAN CLASS="MATH">4</SPAN>&nbsp;lines must contain the
representation of the <SPAN CLASS="MATH">4</SPAN>&nbsp;pieces of the corresponding row, left piece 
first. There must exist a
single space character between piece representations of the same row. 
Each line must be terminated
by a new line character.

<P>

<H2><FONT size=4 COLOR=#ff0000><A NAME="SECTION0001003000000000000000">
Sample Input</A>&nbsp;</FONT>
</H2>

<P>
<PRE>
13e2 6151 8161 1201 6152 8777
1651 1511 1394 7310 8726 1128
7151 5512 1512 7161

         9124
      8716  9683 
   1012  2913  1410
3097  7310  9295  1394
   6882  3309  1531
      8703  5236
         0663
 
8716 6882 0663 8703
9683 9295 1394 7310
3309 1531 1410 1012
2913 9124 3097 8716
 
0512 9811 3333 1726 1755 0052
7614 6152 1987 1234 7771 1390
2185 2468 1103 7188

3298 6428 6833 8484 8924
9886 8679 4687  8929 2642 8999
9399 9784 6986 7477 7406
</PRE> 

<P>

<H2><FONT size=4 COLOR=#ff0000><A NAME="SECTION0001004000000000000000">
Sample Output</A>&nbsp;</FONT>
</H2>

<P>
<PRE>
0

2
8716 6882 0663 8703
9683 9295 1394 7310
3309 1531 1410 1012
2913 9124 3097 5236

0

1

3
</PRE> 

<P>


<P>
<BR><HR>
<ADDRESS>
MIUP'2006
</ADDRESS>
</BODY>
</HTML>
</HTML>
