<HTML>
<BODY bgcolor="white">

<FONT color="#0000FF"><H1>Problem D</H1></FONT>

<FONT color="#0000FF"><H1><CENTER>Genes</CENTER></H1></FONT>


<p>
For many years, 
the Genetic Evolution Laboratory (GEL) has been studying 
the evolution of various genetic diseases, 
by collecting, for each disease, 
data from a large population, over several generations. 
For each person, 
it is known whether the gene is dominant, recessive, or non-existent. 
Based on this data, 
scientists formulate an hypothesis on
how the disease is transmitted from parents to children. 
However, it is tedious to check by hand 
if the data matches the hypothesis, 
so GEL asked you to automate this task for them.

<p>
The idea is simple: 
the program will, 
given the parent-child relationships and a fixed hypothesis,
calculate for all people 
whether they have the gene or not, 
and in the former case whether it is dominant or not. 
This result is written to a text file, 
which will later be compared (using a standard file differencing tool) 
with the data that GEL collected. 
If there are no differences, 
the hypothesis is valid. 
Any mismatch will give clues to GEL's scientists 
on how they should improve the hypothesis.


<FONT color="#0000FF">
<H2>Problem</H2>
</FONT>

<p>
Given a set of parent-child relationships, 
and the status of the gene for all those people 
whose parents are not in the data set, 
compute the status of the gene for all people in the data set, 
according to the following hypothesis: 
<UL>
<LI>the child has the gene <b>if, and only if,</b>
    both parents have it or it is dominant in one of the parents; and
<LI>the child's gene is dominant <b>if, and only if,</b> 
    the gene is dominant in both parents or 
    dominant in one and recessive in the other parent.
</UL>

<FONT color="#0000FF">
<H2>Input</H2>
</FONT>

<p>
The first line contains an integer <b>N</b> (1 &lt;= <b>N</b> &lt;= 3100),
which is the number of lines of the data set. 

<P>
Each of the following <b>N</b> lines contains 
a pair of non-empty strings, 
separated by a space. 
All strings are at most 20 characters long, 
and no string contains a blank (tab or space). 

<P>
The first string is the name of a person. 
The second string is either</p>
<ol>
  <li>&quot;<samp>non-existent</samp>&quot;, 
      &quot;<samp>recessive</samp>&quot;, or 
      &quot;<samp>dominant</samp>&quot;; or
  </li>
  <li>the name of another person (the child).
  </li>
</ol>

<p>
The first case is to indicate the status of the gene 
for a person whose parents are not part of the data set. 
The second case is to indicate that the 
first person is a parent of the second one.</p>

<p>
All people have distinct names and none is 
&quot;non-existent&quot;, &quot;recessive&quot;, or 
&quot;dominant&quot;. 

<P>
For each person, 
either both or none of the parents are part of the data set.</p>


<FONT color="#0000FF">
<H2>Output</H2>
</FONT>

<p>
The output consists of one line per person occurring in the data set. 

<P>
Each line has two strings, separated by a space. 
The first string is the name of the person, and
the second string indicates the status of the gene, 
in the same way as in the input. 

<P>
The output must be ordered alphabetically by name.</p>


<FONT color="#0000FF">
<H2>Sample Input</H2>
</FONT>

<PRE>
7
John dominant
Mary recessive
John Susan
Mary Susan
Peter non-existent
Susan Marta
Peter Marta
</PRE>


<FONT color="#0000FF">
<H2>Sample Output</H2>
</FONT>

<PRE>
John dominant
Marta recessive
Mary recessive
Peter non-existent
Susan dominant
</PRE>


<BR>
<HR>
<FONT SIZE=3D4>
<center>
Concurso de Programação da Universidade do Porto'2004<br>
CPN'2004: 
Segundo Concurso de Programação da Nova <BR>
Março de 2004 <br>
Departamento de Informática <br> 
Faculdade de Ciências e Tecnologia <br>
Universidade Nova de Lisboa
</center>
</font>
<HR>

</BODY>
</HTML>


