<html xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office"
	xmlns:w="urn:schemas-microsoft-com:office:word" xmlns="http://www.w3.org/TR/REC-html40">
	<head>
		<title>MIUP'2004: Problem B</title>
		<meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
		<meta name="ProgId" content="Word.Document">
		<meta name="Generator" content="Microsoft Word 9">
		<meta name="Originator" content="Microsoft Word 9">
		<link rel="File-List" href="./B-WordPuzzle_files/filelist.xml">
			<link rel="Edit-Time-Data" href="./B-WordPuzzle_files/editdata.mso"> <!--[if !mso]>
<STYLE>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</STYLE>
<![endif]-->  <!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Pedro Rangel Henriques</o:Author>
  <o:LastAuthor>Pedro Guerreiro</o:LastAuthor>
  <o:Revision>11</o:Revision>
  <o:TotalTime>166</o:TotalTime>
  <o:Created>2004-10-09T11:16:00Z</o:Created>
  <o:LastSaved>2004-10-09T14:28:00Z</o:LastSaved>
  <o:Pages>2</o:Pages>
  <o:Words>459</o:Words>
  <o:Characters>2620</o:Characters>
  <o:Lines>21</o:Lines>
  <o:Paragraphs>5</o:Paragraphs>
  <o:CharactersWithSpaces>3217</o:CharactersWithSpaces>
  <o:Version>9.2720</o:Version>
 </o:DocumentProperties>
</xml><![endif]-->
				<style> <!-- /* Font Definitions */ @font-face {font-family:cmtt10; panose-1:2 11 5 0 0 0 0 0 0 0; mso-font-charset:0; mso-generic-font-family:swiss; mso-font-pitch:variable; mso-font-signature:3 0 0 0 1 0;}
	/* Style Definitions */ p.MsoNormal, li.MsoNormal, div.MsoNormal {mso-style-parent:""; margin:0mm; margin-bottom:.0001pt; mso-pagination:widow-orphan; font-size:12.0pt; font-family:"Times New Roman"; mso-fareast-font-family:"Times New Roman";}
	h1 {margin-right:0mm; mso-margin-top-alt:auto; mso-margin-bottom-alt:auto; margin-left:0mm; mso-pagination:widow-orphan; mso-outline-level:1; font-size:24.0pt; font-family:"Times New Roman"; mso-font-kerning:18.0pt; font-weight:bold;}
	h2 {margin-right:0mm; mso-margin-top-alt:auto; mso-margin-bottom-alt:auto; margin-left:0mm; mso-pagination:widow-orphan; mso-outline-level:2; font-size:18.0pt; font-family:"Times New Roman"; font-weight:bold;}
	p.MsoListBullet, li.MsoListBullet, div.MsoListBullet {mso-style-update:auto; margin-top:0mm; margin-right:0mm; margin-bottom:0mm; margin-left:18.0pt; margin-bottom:.0001pt; text-indent:-18.0pt; mso-pagination:widow-orphan; mso-list:l0 level1 lfo3; tab-stops:list 18.0pt; font-size:12.0pt; font-family:"Times New Roman"; mso-fareast-font-family:"Times New Roman";}
	p {margin-right:0mm; mso-margin-top-alt:auto; mso-margin-bottom-alt:auto; margin-left:0mm; mso-pagination:widow-orphan; font-size:12.0pt; font-family:"Times New Roman"; mso-fareast-font-family:"Times New Roman";}
	pre {margin:0mm; margin-bottom:.0001pt; mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; font-size:10.0pt; font-family:"Courier New"; mso-fareast-font-family:"Courier New";}
	@page Section1 {size:612.0pt 792.0pt; margin:70.85pt 30.0mm 70.85pt 30.0mm; mso-header-margin:35.4pt; mso-footer-margin:35.4pt; mso-paper-source:0;}
	div.Section1 {page:Section1;}
	/* List Definitions */ @list l0 {mso-list-id:-119; mso-list-type:simple; mso-list-template-ids:-281402284;}
	@list l0:level1 {mso-level-number-format:bullet; mso-level-style-link:"List Bullet"; mso-level-text:\F0B7; mso-level-tab-stop:18.0pt; mso-level-number-position:left; margin-left:18.0pt; text-indent:-18.0pt; font-family:Symbol;}
	ol {margin-bottom:0mm;}
	ul {margin-bottom:0mm;}
	--></style>
		<!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="1027"/>
</xml><![endif]-->  <!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
	</head>
	<body bgcolor="white" lang="EN-GB" style='tab-interval:36.0pt'>
		<div class="Section1">
			<h1><span style='COLOR:#006000'>Problem B<o:p></o:p></span></h1>
			<h1 align="center" style='TEXT-ALIGN:center'><span style='COLOR:#006000'>A Word
Puzzle in the Sunny Mountains<o:p></o:p></span></h1>
			<p><span style='COLOR:black'>During 
their honeymoon in the Himalayas, Mr and Mrs Smith spent part of their time 
playing</span><span style='COLOR:black'>        games
(crosswords, cryptograms, etc.). One of the most exciting is a very simple
crypto-game: given a list of words encrypted with numbers (positive integers)
the objective is to find the correspondence table that associates a letter ('A'
to 'Z') with each number in such a way that all the words in the list, after
replacing numbers by the corresponding letters, become valid words according to
a given dictionary. To start the game, the first word, called <i>keyword</i> or
<i>seed</i>, is given, 
asserting the value (the corresponding letters) of the first numbers.</span></p>
			<P><SPAN style="COLOR: black"></SPAN><span style='COLOR:black'>To help them save precious time in their honeymoon, we are asking
your assistance.</span><span style='COLOR:#006000'><o:p></o:p>
				</span></P>
			<h2><span style='COLOR:#006000'>Problem<o:p></o:p></span></h2>
			<p><span style='COLOR:black'>      Your task is to
write a program that reads the input data (list of encrypted words, seed,
and dictionary) and plays the game, printing out the solution (the mapping that applies
numbers to letters and solves the problem). Notice that every puzzle proposed
has one, and just one, solution.<o:p></o:p></span></p>
			<h2><span style='COLOR:#006000'>Input<o:p></o:p></span></h2>
			<span style='COLOR:black'>
<P align="left">The first line of input contains <I>C</I> (<I>0 &lt; C &lt; 10</I>), the number of test cases that follows. 
<P align="left">Each test case is organized as follows:<o:p></o:p></span>
			<p class="MsoListBullet"><![if !supportLists]><span style='FONT-FAMILY:Symbol'>&middot;<span style="FONT:7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>The first line contains the number 1 &lt;= <i>l</i> &lt;= 26 of 
				different letters to be decode;</p>
			<p class="MsoListBullet"><![if !supportLists]><span style='FONT-FAMILY:Symbol'>&middot;<span style="FONT:7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>The second line contains the number 1 &lt;= <i>n</i> &lt;= 100 of 
				encrypted words;</p>
			<p class="MsoListBullet"><![if !supportLists]><span style='FONT-FAMILY:Symbol'>&middot;<span style="FONT:7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>The next <i>n</i> lines contain the encrypted words to be decoded, one 
				word per line represented by numbers, used sequentially starting in 1 (one 
				number replacing the same letter, different numbers correspond to different 
				letters). Numbers are separated by single spaces and the sequence ends with a 
				0. The length of a word is never less than 2 or greater than 15;</p>
			<p class="MsoListBullet"><![if !supportLists]><span style='FONT-FAMILY:Symbol'>&middot;<span style="FONT:7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>The next line is the <i>keyword</i> or <i>seed</i>, i.e., the first 
				word of the list to be decoded, formed by upper case letters;</p>
			<![if !supportLists]>
			<p class="MsoListBullet"><span style='FONT-FAMILY:Symbol'>&middot;<span style="FONT:7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>The remaining lines contain the words (upper case letters) of the 
				dictionary (1 &lt;= <i>m</i> &lt;= 100 lines, <i>m</i> words of length not 
				greater than 15).</p>
			<P class="MsoListBullet"><SPAN style="FONT-FAMILY: Symbol">&middot;<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>The end of the input for each case is marked by a line with an asterisk.</P>
			<h2><span style='COLOR:#006000'>Output<o:p></o:p></span></h2>
			<p><span style='COLOR:black'>The 
output is formed by a sequence of lines, one for each test case.&nbsp;Each line 
contains&nbsp;a string made up&nbsp;of <EM>l </EM>uppercase letters (<EM>l</EM> 
representing the number of letters to be decoded) describing the correspondence 
table that&nbsp;solves the problem for the respective test case.&nbsp;In each 
string, the first character is the letter associated with number 1, the second 
is the letter associated&nbsp;with number 2, and&nbsp;so on, and the last 
character is the letter associated&nbsp;with&nbsp;the last&nbsp;number to be 
decoded (the number <EM>l</EM>).&nbsp; </span></p>
			<h2><span style='COLOR:#006000'>Sample Game<o:p></o:p></span></h2>
			<p><span style='COLOR:black'>Below we show the input data and the output for a single
game with 7 encrypted words and 11 numbers encoding the 11 different letters to
be discovered. The solution is the map shown as Sample Output, and the list of
valid words (existing in the given dictionary) that can be written with the <i>correspondence table</i>, discovered by the player, is:<o:p></o:p></span></p>
			<pre><span lang=PT style='mso-ansi-language:PT'>ADORNO<o:p></o:p></span></pre>
			<pre><span
lang=PT style='mso-ansi-language:PT'>ANA<o:p></o:p></span></pre>
			<pre><span
lang=PT style='mso-ansi-language:PT'>AMOR<o:p></o:p></span></pre>
			<pre><span
lang=PT style='mso-ansi-language:PT'>HORTA<o:p></o:p></span></pre>
			<pre><span
lang=PT style='mso-ansi-language:PT'>PORTA<o:p></o:p></span></pre>
			<pre><span
lang=PT style='mso-ansi-language:PT'>PAPEL<o:p></o:p></span></pre>
			<pre><span
lang=PT style='mso-ansi-language:PT'>ELMO</span></pre>
			<PRE><SPAN lang=PT style="mso-ansi-language: PT"></SPAN>&nbsp;</PRE>
			<PRE><SPAN lang=PT style="mso-ansi-language: PT"><o:p><P><SPAN style="COLOR: black">Note that in general, each input file corresponds to a sequence of games, as explained, and not to a single game, as the</SPAN></P><P><SPAN style="COLOR: black">sample input illustrates. </SPAN></P></o:p></SPAN></PRE>
			<h2 style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><span lang="PT" style='COLOR:#006000;mso-ansi-language:PT'>Sample Input<o:p></o:p></span></h2>
			<p class="MsoNormal" style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; mso-layout-grid-align:none'><span lang="PT" style='FONT-SIZE:
10pt;FONT-FAMILY:
cmtt10;mso-ansi-language:
PT'><![if !supportEmptyParas]><![endif]>1&nbsp;<o:p></o:p></span></p>
			<pre><span lang=PT style='mso-ansi-language:PT'>11<o:p></o:p></span></pre>
			<pre><span
lang=PT style='mso-ansi-language:PT'>7<o:p></o:p></span></pre>
			<pre><span
lang=PT style='mso-ansi-language:PT'>1 2 3 4 5 3 0<o:p></o:p></span></pre>
			<pre><span
lang=PT style='mso-ansi-language:PT'>1 5 1 0<o:p></o:p></span></pre>
			<pre><span
lang=PT style='mso-ansi-language:PT'>1 6 3 4 0<o:p></o:p></span></pre>
			<pre><span
lang=PT style='mso-ansi-language:PT'>7 3 4 8 1 0<o:p></o:p></span></pre>
			<pre><span
lang=PT style='mso-ansi-language:PT'>9 3 4 8 1 0<o:p></o:p></span></pre>
			<pre><span
lang=PT style='mso-ansi-language:PT'>9 1 9 10 11 0<o:p></o:p></span></pre>
			<pre><span
lang=PT style='mso-ansi-language:PT'>10 11 6 3 0<o:p></o:p></span></pre>
			<pre><span
lang=PT style='mso-ansi-language:PT'>ADORNO<o:p></o:p></span></pre>
			<pre><span
lang=PT style='mso-ansi-language:PT'>ADORNO<o:p></o:p></span></pre>
			<pre><span
lang=PT style='mso-ansi-language:PT'>AMOR<o:p></o:p></span></pre>
			<pre><span
lang=PT style='mso-ansi-language:PT'>ANA<o:p></o:p></span></pre>
			<pre><span
lang=PT style='mso-ansi-language:PT'>ARLINDO<o:p></o:p></span></pre>
			<pre><span
lang=PT style='mso-ansi-language:PT'>ANTUNES<o:p></o:p></span></pre>
			<pre><span
lang=PT style='mso-ansi-language:PT'>HORTA<o:p></o:p></span></pre>
			<pre><span
lang=PT style='mso-ansi-language:PT'>PORTA<o:p></o:p></span></pre>
			<pre><span
lang=PT style='mso-ansi-language:PT'>PORTAO<o:p></o:p></span></pre>
			<pre><span
lang=PT style='mso-ansi-language:PT'>PORTAL<o:p></o:p></span></pre>
			<pre><span
lang=PT style='mso-ansi-language:PT'>PAPEL<o:p></o:p></span></pre>
			<pre><span
lang=PT style='mso-ansi-language:PT'>PARVO<o:p></o:p></span></pre>
			<pre><span
lang=PT style='mso-ansi-language:PT'>ELMO<o:p></o:p></span></pre>
			<pre><span
lang=PT style='mso-ansi-language:PT'>ESTE<o:p></o:p></span></pre>
			<pre><span
lang=PT style='mso-ansi-language:PT'>ESSE<o:p></o:p></span></pre>
			<pre><span
lang=PT style='mso-ansi-language:PT'>ARMADURA<o:p></o:p></span></pre>
			<pre><span
lang=PT style='mso-ansi-language:PT'>HELENA<o:p></o:p></span></pre>
			<pre><span
lang=PT style='mso-ansi-language:PT'>ERGONOMICO<o:p></o:p></span></pre>
			<pre><span
lang=PT style='mso-ansi-language:PT'>EVA<o:p></o:p></span></pre>
			<pre><span
lang=PT style='mso-ansi-language:PT'>ERVA<o:p></o:p></span></pre>
			<pre><span
lang=PT style='mso-ansi-language:PT'>CARMO<o:p></o:p></span></pre>
			<pre><span
lang=PT style='mso-ansi-language:PT'>COUVE</span></pre>
			<PRE><SPAN lang=PT style="mso-ansi-language: PT">*<o:p></o:p></SPAN></PRE>
			<h2 style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><span lang="PT" style='COLOR:#006000;mso-ansi-language:PT'>Sample Output<o:p></o:p></span></h2>
			<pre><span lang=PT style='COLOR:black;mso-ansi-language:PT'>ADORNMHTPEL</span><span
style='COLOR:black'>

<hr size=2 width="100%" align=center>

</span></pre>
			<p class="MsoNormal" align="center" style='TEXT-ALIGN:center;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><span style='FONT-SIZE:13.5pt;COLOR:black'>MIUP'2004: Fourth Portuguese National
Programming Contest <o:p></o:p></span></p>
			<div class="MsoNormal" align="center" style='TEXT-ALIGN:center;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><span style='COLOR:black'>
					<hr size="2" width="100%" align="center">
				</span></div>
		</div>
		<P>Problem setter: Pedro Henriques</P>
	</body>
</html>
