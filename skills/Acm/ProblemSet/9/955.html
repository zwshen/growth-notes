
<!--Converted with LaTeX2HTML 2002-2-1 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Interpreting Old Maps</TITLE>
<META NAME="description" CONTENT="Interpreting Old Maps">
<META NAME="keywords" CONTENT="htmlatex">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="htmlatex.css">

</HEAD>

<BODY LANG="EN" BGCOLOR=#FFFFFF>

<H1><BR CLEAR=ALL><CENTER><TABLE BGCOLOR=#0000ff><TR><TD><B><FONT SIZE=5 COLOR=#FFff00>&nbsp;<A NAME="SECTION0001000000000000000000">
Interpreting Old Maps</A>&nbsp;</FONT></B></TABLE></CENTER>
</H1>

<P>
Before the invention of instruments for determining latitude and
longitude, maps could only be crude representations of the regions
of the earth surface. Ancient maps, in fact, only indicated
approximate locations for cities or natural spots. The relative
positions of the main spots would be approximately correct, but
the relative positions of neighboring cities were often completely
wrong. Despite the technological limitations, and the ``creativity''
that was used to decide about what could not be known, some
ancient maps already provided estimates for latitude and
longitude.

<P>
It has been observed that road information was a source of
information for determining the relative positions of cities and,
in particular, the geographical coordinates. In fact, it turns out
that the relative positions of some of the cities are completely
consistent with road information known through other historical
sources.

<P>
Since the old maps have a large number of cities and respective
coordinates, it is very hard to find out which cities were placed
in the map using road information known to us through other
sources. A computer program to automate that task is definitely
needed.

<P>

<P>
<BR>

<SPAN  CLASS="textbf">Example</SPAN>

<P>

<P>
<BR>
The figure provides an example. There is a road with cities
<SPAN CLASS="MATH"><I>A</I></SPAN>, <SPAN CLASS="MATH"><I>B</I></SPAN>, <SPAN CLASS="MATH"><I>C</I></SPAN> and <SPAN CLASS="MATH"><I>D</I></SPAN>. There are two variants
for the distance between <SPAN CLASS="MATH"><I>A</I></SPAN> and <SPAN CLASS="MATH"><I>B</I></SPAN>. On the map, cities
<SPAN CLASS="MATH"><I>B</I></SPAN> and <SPAN CLASS="MATH"><I>D</I></SPAN> were placed with reference to <SPAN CLASS="MATH"><I>A</I></SPAN> while
city <SPAN CLASS="MATH"><I>C</I></SPAN> was placed with reference to <SPAN CLASS="MATH"><I>B</I></SPAN>. From the two
possible distances between <SPAN CLASS="MATH"><I>A</I></SPAN> and <SPAN CLASS="MATH"><I>B</I></SPAN>, 11 and 40, the
second was used. Note that <!-- MATH
 $\sqrt{ (-19.3)^{2} + (-35.1)^{2} }
\approx 40$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="173" HEIGHT="39" ALIGN="MIDDLE" BORDER="0"
 SRC="955img1.png"
 ALT="$ \sqrt{{ (-19.3)^{2} + (-35.1)^{2} }}$"> <IMG
 WIDTH="18" HEIGHT="17" ALIGN="BOTTOM" BORDER="0"
 SRC="955img2.png"
 ALT="$ \approx$"> 40</SPAN>. City <SPAN CLASS="MATH"><I>D</I></SPAN> was placed at a distance of <!-- MATH
 $\sqrt{
67.9^{2} + 31.9^{2} } \approx 75$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="117" HEIGHT="41" ALIGN="MIDDLE" BORDER="0"
 SRC="955img3.png"
 ALT="$ \sqrt{{
67.9^{2} + 31.9^{2} }}$"> <IMG
 WIDTH="18" HEIGHT="17" ALIGN="BOTTOM" BORDER="0"
 SRC="955img2.png"
 ALT="$ \approx$"> 75</SPAN>. which can be explained as the
sum 11+30+34.

<P>
<DIV ALIGN="CENTER">
<!-- MATH
 $\epsfbox{p955.eps}$
 -->
<IMG
 WIDTH="548" HEIGHT="396" ALIGN="BOTTOM" BORDER="0"
 SRC="p955.jpg"
 ALT="\epsfbox{p955.eps}">
</DIV>

<P>

<H2><FONT size=4 COLOR=#ff0000><A NAME="SECTION0001001000000000000000">
Input</A>&nbsp;</FONT>
</H2>
<B>The input will contain several test cases, each of them as described below.
Consecutive test cases are separated by a single blank line.
</B>

<P>

<P><P>
<BR>

<P>
The idea is to focus on a single road. The main input for the
program consists of the list of cities, identified by their
coordinates in the map, and the road distances between them. There
is the problem that historical documents don't agree in all
distances, so all variants must be taken into account. The
following format is used:

<P>

<P>
<BR>

<SPAN CLASS="MATH"><I>N</I></SPAN> 
<BR><!-- MATH
 $X_{1} \ Y_{1}$
 -->
<SPAN CLASS="MATH"><I>X</I><SUB>1</SUB>&nbsp;<I>Y</I><SUB>1</SUB></SPAN> 
<BR><!-- MATH
 $M_{1} \ D_{1,a} \ D_{1,b} \dots$
 -->
<SPAN CLASS="MATH"><I>M</I><SUB>1</SUB>&nbsp;<I>D</I><SUB>1, a</SUB>&nbsp;<I>D</I><SUB>1, b</SUB>...</SPAN> 
<BR><!-- MATH
 $X_{2} \ Y_{2}$
 -->
<SPAN CLASS="MATH"><I>X</I><SUB>2</SUB>&nbsp;<I>Y</I><SUB>2</SUB></SPAN> 
<BR><SPAN CLASS="MATH">...</SPAN> 
<BR><!-- MATH
 $M_{N-1} \ D_{N-1,a} \ D_{N-1,b} \dots$
 -->
<SPAN CLASS="MATH"><I>M</I><SUB>N-1</SUB>&nbsp;<I>D</I><SUB>N-1, a</SUB>&nbsp;<I>D</I><SUB>N-1, b</SUB>...</SPAN> 
<BR><!-- MATH
 $X_{N} \ Y_{N}$
 -->
<SPAN CLASS="MATH"><I>X</I><SUB>N</SUB>&nbsp;<I>Y</I><SUB>N</SUB></SPAN>

<P>

<P>
<BR>
Where: <SPAN CLASS="MATH"><I>N</I></SPAN> is the number of cities in the road, <!-- MATH
 $(X_{1},Y_{1})$
 -->
<SPAN CLASS="MATH">(<I>X</I><SUB>1</SUB>, <I>Y</I><SUB>1</SUB>)</SPAN>,
<!-- MATH
 $(X_{2},Y_{2})$
 -->
<SPAN CLASS="MATH">(<I>X</I><SUB>2</SUB>, <I>Y</I><SUB>2</SUB>)</SPAN>, ..., <!-- MATH
 $(X_{N},Y_{N})$
 -->
<SPAN CLASS="MATH">(<I>X</I><SUB>N</SUB>, <I>Y</I><SUB>N</SUB>)</SPAN> are the coordinates of the
cities in the order in which they appear in the road, <SPAN CLASS="MATH"><I>M</I><SUB>i</SUB></SPAN> is
the number of alternative (variant) distances between cities <SPAN CLASS="MATH"><I>i</I></SPAN>
and <SPAN CLASS="MATH"><I>i</I> + 1</SPAN>, and <SPAN CLASS="MATH"><I>D</I><SUB>i,*</SUB></SPAN> are the variant distances themselves.

<P>

<H2><FONT size=4 COLOR=#ff0000><A NAME="SECTION0001002000000000000000">
Output</A>&nbsp;</FONT>
</H2>
<B>For each test case, the output must follow the description below. 
The outputs of two consecutive cases will be separated by a blank line.
</B>

<P>

<P><P>
<BR>

<P>
The result is a list of the pairs of cities, <SPAN CLASS="MATH"><I>i</I></SPAN> and <SPAN CLASS="MATH"><I>j</I></SPAN>, with
<SPAN CLASS="MATH"><I>i</I> &lt; <I>j</I></SPAN>, for which the relative positions in the map are consistent
with road distances (or one of them, when there are variants). For
each pair of cities in these conditions, a line with the following
format should be printed:

<P>

<P>
<BR>

<!-- MATH
 $i \ j \ D_{i,j,1} \ D_{i,j,2}$
 -->
<SPAN CLASS="MATH"><I>i</I>&nbsp;<I>j</I>&nbsp;<I>D</I><SUB>i, j, 1</SUB>&nbsp;<I>D</I><SUB>i, j, 2</SUB></SPAN>

<P>

<P>
<BR>
Where <SPAN CLASS="MATH"><I>D</I><SUB>i, j,*</SUB></SPAN> are the intervening road distances, which must
sum up to a value that is equal to the straight line distance
between those cities in the input map. The listing is sorted by
<SPAN CLASS="MATH"><I>i</I></SPAN> and then by <SPAN CLASS="MATH"><I>j</I></SPAN>. Between each value in the same
line, there is a blank space.

<P>
<BR>
<BR>
Note: None of the test cases contains a pair of
cities for which multiple solutions can be found. In other words,
there is a single list of distances <SPAN CLASS="MATH"><I>D</I><SUB>i, j,*</SUB></SPAN> suming up to a
value that is equal to the straight line distance between cities
<SPAN CLASS="MATH"><I>i</I></SPAN> and <SPAN CLASS="MATH"><I>j</I></SPAN>.

<P>

<H2><FONT size=4 COLOR=#ff0000><A NAME="SECTION0001003000000000000000">
Sample Input</A>&nbsp;</FONT>
</H2>

<P>
<PRE>
4
0 0
2 11 40
-19.3 -35.1
1 30
-8.2 -62.9
2 42 34
67.9 31.9
</PRE>

<P>

<H2><FONT size=4 COLOR=#ff0000><A NAME="SECTION0001004000000000000000">
Sample Output</A>&nbsp;</FONT>
</H2>

<P>
<PRE>
1 2 40
1 4 11 30 34
2 3 30
</PRE>

<P>


<P>
<BR><HR>
<ADDRESS>
MIUP'2006
</ADDRESS>
</BODY>
</HTML>
</HTML>
