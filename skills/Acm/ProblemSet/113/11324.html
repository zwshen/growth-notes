<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<title>Problem B: The Largest Clique</title>
	<meta name="author" content="Zachary Friggstad">
	<meta name="generator" content="WebDesign">
</head>
<body>

<h2>Problem B: The Largest Clique</h2>
<img src="p11324.png">

<p>
Given a directed graph <em>G</em>, consider the following transformation.  First, create a new graph
<em>T(G)</em> to have the same vertex set as <em>G</em>.   Create a directed edge between
two vertices <em>u</em> and <em>v</em> in <em>T(G)</em> if and only if there is a path
between <em>u</em> and <em>v</em> in <em>G</em> that follows the directed edges only in the forward
direction.  This graph <em>T(G)</em> is often called the <em>transitive closure</em> of <em>G</em>.

<p>
We define a <em>clique</em> in a directed graph as a set of vertices <em>U</em> such that
for any two vertices <em>u</em> and <em>v</em> in <em>U</em>, there is a directed
edge either from <em>u</em> to <em>v</em> or from <em>v</em> to <em>u</em> (or both).
The size of a clique is the number of vertices in the clique.

<p>
The number of cases is given on the first line of input.  Each test case describes a graph <em>G</em>.
It begins with a line of two integers
<em>n</em> and <em>m</em>, where 0&nbsp;&le;&nbsp;<em>n</em>&nbsp;&le;&nbsp;1000 is the number of
vertices of <em>G</em>
and 0&nbsp;&le;&nbsp;<em>m</em>&nbsp;&le;&nbsp;50,000 is the number of directed edges of <em>G</em>.
The vertices of <em>G</em> are numbered from 1 to <em>n</em>.
The following <em>m</em> lines contain two distinct integers </em><em>u</em> and <em>v</em>
between 1 and <em>n</em> which define
a directed edge from <em>u</em> to <em>v</em> in <em>G</em>.

<p>
For each test case, output a single integer that is the size of the largest clique in <em>T(G)</em>.

<h3>Sample input</h3>
<pre>
1
5 5
1 2
2 3
3 1
4 1
5 2
</pre>

<h3>Output for sample input</h3>
<pre>
4
</pre>

<hr>

<em>Zachary Friggstad</em>

</body>
</html>
