
<!--Converted with LaTeX2HTML 2K.1beta (1.48)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Full Tank?</TITLE>
<META NAME="description" CONTENT="Full Tank?">
<META NAME="keywords" CONTENT="htmlatex">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="LaTeX2HTML v2K.1beta">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="htmlatex.css">

</HEAD>

<BODY LANG="EN" BGCOLOR=#FFFFFF>

<H1><BR CLEAR=ALL><CENTER><TABLE BGCOLOR=#0000ff><TR><TD><B><FONT SIZE=5 COLOR=#FFff00>&nbsp;<A NAME="SECTION0001000000000000000000">
F: Full Tank?</A>&nbsp;</FONT></B></TABLE></CENTER>
</H1>

<P>
After going through the receipts from your car trip through Europe this summer, you realised that the gas prices varied between the cities you visited. Maybe you could have saved some money if you were a bit more clever about where you filled your fuel? 

<P>
<DIV ALIGN="CENTER">
<!-- MATH
 $\epsfbox{p11367.eps}$
 -->
<IMG
 WIDTH="142" HEIGHT="209" ALIGN="right" BORDER="0"
 SRC="p11367.png"
 ALT="\epsfbox{p11367.eps}">
<tex2html_verbatim_mark>
</DIV>

<P>
To help other tourists (and save money yourself next time), you want to write a program for finding the cheapest way to travel between cities, filling your tank on the way. We assume that all cars use one unit of fuel per unit of distance, and start with an empty gas tank.

<P>

<H2><FONT size=4 COLOR=#ff0000><A NAME="SECTION0001001000000000000000">
Input</A>&nbsp;</FONT>
</H2>

<P>
The first line of input gives <!-- MATH
 $1 \le n \le 1000$
 -->
<SPAN CLASS="MATH">1<IMG
 WIDTH="18" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="11367img2.png"
 ALT="$ \le$"><I>n</I><IMG
 WIDTH="18" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="11367img2.png"
 ALT="$ \le$">1000</SPAN>
<tex2html_verbatim_mark> and <!-- MATH
 $0 \le m \le 10000$
 -->
<SPAN CLASS="MATH">0<IMG
 WIDTH="18" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="11367img2.png"
 ALT="$ \le$"><I>m</I><IMG
 WIDTH="18" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="11367img2.png"
 ALT="$ \le$">10000</SPAN>
<tex2html_verbatim_mark>, the number of cities and roads. Then follows a line with <SPAN CLASS="MATH"><I>n</I></SPAN>
<tex2html_verbatim_mark> integers <!-- MATH
 $1 \le p_{i} \le 100$
 -->
<SPAN CLASS="MATH">1<IMG
 WIDTH="18" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="11367img2.png"
 ALT="$ \le$"><I>p</I><SUB>i</SUB><IMG
 WIDTH="18" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="11367img2.png"
 ALT="$ \le$">100</SPAN>
<tex2html_verbatim_mark>, where <SPAN CLASS="MATH"><I>p</I><SUB>i</SUB></SPAN>
<tex2html_verbatim_mark> is the fuel price in the <SPAN CLASS="MATH"><I>i</I></SPAN>
<tex2html_verbatim_mark>th city. Then follow <SPAN CLASS="MATH"><I>m</I></SPAN>
<tex2html_verbatim_mark> lines with three integers <SPAN CLASS="MATH">0<IMG
 WIDTH="18" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="11367img2.png"
 ALT="$ \le$"><I>u</I></SPAN>
<tex2html_verbatim_mark>, <SPAN CLASS="MATH"><I>v</I> &lt; <I>n</I></SPAN>
<tex2html_verbatim_mark> and <!-- MATH
 $1 \le d \le 100$
 -->
<SPAN CLASS="MATH">1<IMG
 WIDTH="18" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="11367img2.png"
 ALT="$ \le$"><I>d</I><IMG
 WIDTH="18" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="11367img2.png"
 ALT="$ \le$">100</SPAN>
<tex2html_verbatim_mark>, telling that there is a road between <SPAN CLASS="MATH"><I>u</I></SPAN>
<tex2html_verbatim_mark> and <SPAN CLASS="MATH"><I>v</I></SPAN>
<tex2html_verbatim_mark> with length <SPAN CLASS="MATH"><I>d</I></SPAN>
<tex2html_verbatim_mark>. Then comes a line with the number <!-- MATH
 $1 \le q \le 100$
 -->
<SPAN CLASS="MATH">1<IMG
 WIDTH="18" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="11367img2.png"
 ALT="$ \le$"><I>q</I><IMG
 WIDTH="18" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="11367img2.png"
 ALT="$ \le$">100</SPAN>
<tex2html_verbatim_mark>, giving the number of queries, and <SPAN CLASS="MATH"><I>q</I></SPAN>
<tex2html_verbatim_mark> lines with three integers <!-- MATH
 $1 \le c \le 100$
 -->
<SPAN CLASS="MATH">1<IMG
 WIDTH="18" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="11367img2.png"
 ALT="$ \le$"><I>c</I><IMG
 WIDTH="18" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="11367img2.png"
 ALT="$ \le$">100</SPAN>
<tex2html_verbatim_mark>, <SPAN CLASS="MATH"><I>s</I></SPAN>
<tex2html_verbatim_mark> and <SPAN CLASS="MATH"><I>e</I></SPAN>
<tex2html_verbatim_mark>, where <SPAN CLASS="MATH"><I>c</I></SPAN>
<tex2html_verbatim_mark> is the fuel capacity of the vehicle, <SPAN CLASS="MATH"><I>s</I></SPAN>
<tex2html_verbatim_mark> is the starting city, and <SPAN CLASS="MATH"><I>e</I></SPAN>
<tex2html_verbatim_mark> is the goal.

<P>

<H2><FONT size=4 COLOR=#ff0000><A NAME="SECTION0001002000000000000000">
Output</A>&nbsp;</FONT>
</H2>

<P>
For each query, output the price of the cheapest trip from <SPAN CLASS="MATH"><I>s</I></SPAN>
<tex2html_verbatim_mark> to <SPAN CLASS="MATH"><I>e</I></SPAN>
<tex2html_verbatim_mark> using a car with the given capacity, or ``<TT>impossible</TT>" if there is no way of getting from <SPAN CLASS="MATH"><I>s</I></SPAN>
<tex2html_verbatim_mark> to <SPAN CLASS="MATH"><I>e</I></SPAN>
<tex2html_verbatim_mark> with the given car.

<P>

<H2><FONT size=4 COLOR=#ff0000><A NAME="SECTION0001003000000000000000">
Sample Input</A>&nbsp;</FONT>
</H2>

<P>
<PRE>
5 5 
10 10 20 12 13 
0 1 9 
0 2 8 
1 2 1 
1 3 11 
2 3 7 
2 
10 0 3 
20 1 4
</PRE>

<P>

<H2><FONT size=4 COLOR=#ff0000><A NAME="SECTION0001004000000000000000">
Sample Output</A>&nbsp;</FONT>
</H2> 

<P>
<PRE>
170 
impossible
</PRE>

<P>


<P>
<BR><HR>

</BODY>
</HTML>
</HTML>
