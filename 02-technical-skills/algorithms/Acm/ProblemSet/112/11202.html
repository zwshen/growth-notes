<html>

<head>
<title>The least possible effort</title>
</head>

<body>
<div align="center"><center>

<table bgColor="#0060f0">
<tbody align="middle">
  <tr>
    <td><font color="#c0ffff" size="5"><b>&nbsp;The Least Possible Effort&nbsp; </b></font></td>
  </tr>
</tbody>
</table>
</center></div>

<p align="right"><font size="2"><i><span lang="EN" style="mso-ansi-language: EN">For since
the fabric of the universe is most perfect and the work of a most wise Creator,&nbsp;</span></i><em><br>
</em><span lang="EN" style="mso-ansi-language: EN"><i>nothing at all takes place in the
universe in which some rule of maximum or minimum does not appear.</i></span><br>
Leonhard Euler</font> </p>

<h2><span lang="EN" style="COLOR: #0070e8; mso-ansi-language: EN">Background<O:P></span></h2>

<p></O:P><span
style="font-family: Arial; mso-fareast-font-family: Times New Roman; color: black; mso-ansi-language: EN-GB; mso-fareast-language: ES; mso-bidi-language: AR-SA"
lang="EN-GB"><font face="Times New Roman">The Knight's tour is a classic chess problem
which was studied (and probably solved) over 1000 years ago.&nbsp;The problem is, from an
arbitrary starting position, move a Knight chess piece around a chessboard visiting all
other squares on the board exactly once.</font></span></p>

<p align="center"><span
style="font-size:12.0pt;font-family:&quot;Times New Roman&quot;;mso-fareast-font-family:
&quot;Times New Roman&quot;;mso-ansi-language:ES;mso-fareast-language:ES;mso-bidi-language:
AR-SA"><img
border="0" src="p11202a.gif" width="188" height="194"></span></p>

<p>A related problem is to find all starting positions that get us to a solution. For
instance, in the chessboard above you can get a solution starting at the position numbered
with 1 as well as 26, 54 and 7 (due to symmetry).</p>

<p>This problem is more interesting if the board is not necessarily a square.</p>

<h2><span lang="EN" style="COLOR: #0070e8; mso-ansi-language: EN">The Problem<O:P> </span></h2>

<p>Given a grid of <i>n</i> rows and <i>m</i> columns representing a board, 6 &le; <i>n,
m</i> &le; 10000, find the minimum number of starting positions you must examine, such
that we can find all the solutions for the Knight's tour.</p>

<p>For example,&nbsp;in the grid:</p>

<p align="center"><img border="0" src="p11202b.gif" width="253" height="144"> </p>

<p>the cells with the same color represent one cell and its symmetric ones; so we can
examine only one cell of each color.</p>

<h2><font color="#0070e8"><a name="SECTION0001003000000000000000">The Input</a></font></h2>

<p><span lang="EN" style="mso-ansi-language: EN">The first line of the input contains an
integer, <em>t</em>, indicating the number of test cases. For each test case, there is a
line with two numbers separated by blanks, 6 &le; <i>n, m</i> &le; 10000, that is,
the size of the board (<i>n</i> rows and <i>m</i> columns). </p>

<h2><font color="#0070e8">The Output</font></h2>

<p>For each test case, the output should consist of one line showing the minimum number of
starting positions needed to find all the solutions of the Knight's tour. </p>

<h2><font color="#0070e8">Sample Input</font></h2>

<pre>3
6 9
15 10
7 13
</pre>

<h2><font color="#0070e8">Sample Output</font></h2>

<pre>15
40
28
</pre>
</span>
</body>
</html>
