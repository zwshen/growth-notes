<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 10">
<meta name=Originator content="Microsoft Word 10">
<link rel=File-List href="p3_files/filelist.xml">
<link rel=Edit-Time-Data href="p3_files/editdata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<title>Problem D</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Shamim</o:Author>
  <o:LastAuthor>Shamim</o:LastAuthor>
  <o:Revision>31</o:Revision>
  <o:TotalTime>93</o:TotalTime>
  <o:Created>2006-01-05T09:09:00Z</o:Created>
  <o:LastSaved>2006-05-02T11:07:00Z</o:LastSaved>
  <o:Pages>2</o:Pages>
  <o:Words>312</o:Words>
  <o:Characters>1784</o:Characters>
  <o:Company>ACM ICPC</o:Company>
  <o:Lines>14</o:Lines>
  <o:Paragraphs>4</o:Paragraphs>
  <o:CharactersWithSpaces>2092</o:CharactersWithSpaces>
  <o:Version>10.2625</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:DrawingGridHorizontalSpacing>2.85 pt</w:DrawingGridHorizontalSpacing>
  <w:DisplayVerticalDrawingGridEvery>2</w:DisplayVerticalDrawingGridEvery>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;
	mso-font-charset:2;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:0 268435456 0 0 -2147483648 0;}
@font-face
	{font-family:"Arial Black";
	panose-1:2 11 10 4 2 1 2 2 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:647 0 0 0 159 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoCaption, li.MsoCaption, div.MsoCaption
	{mso-style-noshow:yes;
	mso-style-next:Normal;
	margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	font-weight:bold;}
p
	{mso-margin-top-alt:auto;
	margin-right:0in;
	mso-margin-bottom-alt:auto;
	margin-left:0in;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="15362"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=EN-US style='tab-interval:.5in'>

<div class=Section1>

<table class=MsoNormalTable border=1 cellspacing=3 cellpadding=0 width="100%"
 style='width:100.0%;mso-cellspacing:2.2pt;background:maroon;border:solid white 1.5pt;
 mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt;mso-border-insideh:1.5pt solid white;
 mso-border-insidev:1.5pt solid white'>
 <thead>
  <tr style='mso-yfti-irow:0'>
   <td width="27%" valign=bottom style='width:27.8%;border:solid white 1.5pt;
   padding:3.0pt 3.0pt 3.0pt 3.0pt'>
   <p align=center style='text-align:center'><span style='font-size:24.0pt;
   font-family:"Arial Black";color:white'>Problem D</span><span
   style='color:white'><o:p></o:p></span></p>
   </td>
   <td width="71%" valign=bottom style='width:71.04%;border:solid white 1.5pt;
   padding:3.0pt 3.0pt 3.0pt 3.0pt'>
   <p align=center style='text-align:center'><span style='font-size:24.0pt;
   font-family:"Arial Black";color:white'>Predator II</span><span
   style='color:white'><o:p></o:p></span></p>
   </td>
  </tr>
  <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes'>
   <td width="99%" colspan=2 valign=bottom style='width:99.22%;border:solid white 1.5pt;
   padding:3.0pt 3.0pt 3.0pt 3.0pt'>
   <p align=right style='text-align:right'><span style='font-family:"Arial Black";
   color:white'>Time limit: 2 seconds</span><span style='color:white'><o:p></o:p></span></p>
   </td>
  </tr>
 </thead>
</table>

<p class=MsoNormal align=center style='text-align:center'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Oh No!!! The predator has entered the room again. But this
time it is a different kind of room.</p>

<p class=MsoNormal style='text-align:justify'>The room is a square of size
10000 X 10000. There are several compartments of different shapes and sizes,
situated strictly inside the room. The walls of different compartments don’t
overlap, but a compartment can be completely inside that of another.</p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify'>This time the predator has
learned to hop over walls, but it can jump over at most one wall at a time.
Given the starting and ending coordinates of the predator, and the positions of
the compartments, your job is to find out the minimum number of hops required
for the predator to reach his destination from the start.</p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify'>The starting and ending positions
are never on the boundary of any compartment.</p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
style='font-size:16.0pt;font-family:Arial;color:maroon'>Input<o:p></o:p></span></b></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
style='font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify'>The first line of input is an
integer (<b style='mso-bidi-font-weight:normal'>T <span style='mso-bidi-font-weight:
bold'>&#8804;</span> 20</b>), that indicates the number of test cases. Each
case starts with an integer </p>

<p class=MsoNormal style='text-align:justify'>(<b style='mso-bidi-font-weight:
normal'>n <span style='mso-bidi-font-weight:bold'>&#8804;</span> 20)</b>, that
determines the number of compartments in the room. The next <b
style='mso-bidi-font-weight:normal'>n</b> lines give the positions of the
compartments. The compartments are simple polygons. The description of each
compartment starts with an integers (<b style='mso-bidi-font-weight:normal'>S <span
style='mso-bidi-font-weight:bold'>&#8804;</span> 10), </b>that gives the number
of sides of the polygon, followed by <b style='mso-bidi-font-weight:normal'>S </b>pairs
of <b style='mso-bidi-font-weight:normal'>x, y </b>coordinates in order. Next
there is an integer <b style='mso-bidi-font-weight:normal'>Q </b>that
determines the number of queries for this scenario. Each of the next <b
style='mso-bidi-font-weight:normal'>Q</b> lines contains 4 integers <b
style='mso-bidi-font-weight:normal'>x1, y1, x2, y2</b>. <b style='mso-bidi-font-weight:
normal'>(x1, y1)</b> is the starting position and <b style='mso-bidi-font-weight:
normal'>(x2, y2)</b> is the ending position.</p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify'>The lower left and upper right
coordinates of the room are (0, 0) and (10000, 10000) respectively.</p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
style='font-size:16.0pt;font-family:Arial;color:maroon'>Output<o:p></o:p></span></b></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
style='font-size:10.0pt;font-family:Arial;color:maroon'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify'>For each case, output the case
number. Then for each query, output the minimum number of hops required.</p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='mso-cellspacing:0in;mso-padding-alt:0in 0in 0in 0in'>
 <tr style='mso-yfti-irow:0'>
  <td width=247 valign=top style='width:185.25pt;padding:0in 0in 0in 0in'>
  <p style='text-align:justify'><b><span style='font-size:16.0pt;font-family:
  Arial;color:maroon'>Sample Input</span></b><span style='font-size:16.0pt;
  font-family:Arial;color:maroon'><o:p></o:p></span></p>
  </td>
  <td width=391 valign=top style='width:293.25pt;padding:0in 0in 0in 0in'>
  <p style='text-align:justify'><b><span style='font-size:16.0pt;font-family:
  Arial;color:maroon'>Output for Sample Input</span></b><span style='font-size:
  16.0pt;font-family:Arial;color:maroon'><o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes'>
  <td width=247 valign=top style='width:185.25pt;padding:0in 0in 0in 0in'>
  <p class=MsoNormal style='text-align:justify'><b style='mso-bidi-font-weight:
  normal'><span style='font-size:11.0pt;font-family:"Courier New"'>2<o:p></o:p></span></b></p>
  <p class=MsoNormal style='text-align:justify'><b style='mso-bidi-font-weight:
  normal'><span style='font-size:11.0pt;font-family:"Courier New"'>3<o:p></o:p></span></b></p>
  <p class=MsoNormal style='text-align:justify'><b style='mso-bidi-font-weight:
  normal'><span style='font-size:11.0pt;font-family:"Courier New"'>4 1 1 5 1 5
  5 1 5<o:p></o:p></span></b></p>
  <p class=MsoNormal style='text-align:justify'><b style='mso-bidi-font-weight:
  normal'><span style='font-size:11.0pt;font-family:"Courier New"'>4 2 2 4 2 4
  4 2 4<o:p></o:p></span></b></p>
  <p class=MsoNormal style='text-align:justify'><b style='mso-bidi-font-weight:
  normal'><span style='font-size:11.0pt;font-family:"Courier New"'>3 7 7 10 10
  7 10<o:p></o:p></span></b></p>
  <p class=MsoNormal style='text-align:justify'><b style='mso-bidi-font-weight:
  normal'><span style='font-size:11.0pt;font-family:"Courier New"'>1<o:p></o:p></span></b></p>
  <p class=MsoNormal style='text-align:justify'><b style='mso-bidi-font-weight:
  normal'><span style='font-size:11.0pt;font-family:"Courier New"'>3 3 8 9<o:p></o:p></span></b></p>
  <p class=MsoNormal style='text-align:justify'><b style='mso-bidi-font-weight:
  normal'><span style='font-size:11.0pt;font-family:"Courier New"'>1<o:p></o:p></span></b></p>
  <p class=MsoNormal style='text-align:justify'><b style='mso-bidi-font-weight:
  normal'><span style='font-size:11.0pt;font-family:"Courier New"'>4 1 1 10 1
  10 10 1 10<o:p></o:p></span></b></p>
  <p class=MsoNormal style='text-align:justify'><b style='mso-bidi-font-weight:
  normal'><span style='font-size:11.0pt;font-family:"Courier New"'>2<o:p></o:p></span></b></p>
  <p class=MsoNormal style='text-align:justify'><b style='mso-bidi-font-weight:
  normal'><span style='font-size:11.0pt;font-family:"Courier New"'>2 2 100 100<o:p></o:p></span></b></p>
  <p class=MsoNormal style='text-align:justify'><b style='mso-bidi-font-weight:
  normal'><span style='font-size:11.0pt;font-family:"Courier New"'>100 100 2 2</span></b><span
  style='font-size:11.0pt;font-family:"Courier New"'><o:p></o:p></span></p>
  </td>
  <td width=391 valign=top style='width:293.25pt;padding:0in 0in 0in 0in'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:11.0pt;font-family:"Courier New"'>Case 1:<o:p></o:p></span></b></p>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:11.0pt;font-family:"Courier New"'>3<o:p></o:p></span></b></p>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:11.0pt;font-family:"Courier New"'>Case 2:<o:p></o:p></span></b></p>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:11.0pt;font-family:"Courier New"'>1<o:p></o:p></span></b></p>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:11.0pt;font-family:"Courier New"'>1<o:p></o:p></span></b></p>
  <p class=MsoNormal><span style='font-size:11.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
</table>

<div style='border:none;border-bottom:solid windowtext 1.0pt;mso-border-bottom-alt:
solid windowtext .75pt;padding:0in 0in 1.0pt 0in'>

<p class=MsoNormal style='border:none;mso-border-bottom-alt:solid windowtext .75pt;
padding:0in;mso-padding-alt:0in 0in 1.0pt 0in'><o:p>&nbsp;</o:p></p>

</div>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
style='font-size:11.0pt;font-family:"Courier New"'>ProblemSetter: Sohel Hafiz<o:p></o:p></span></b></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
style='color:maroon'>Next Generation Contest 2<o:p></o:p></span></b></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><o:p>&nbsp;</o:p></b></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
style='font-size:18.0pt;mso-bidi-font-size:12.0pt;color:maroon'>Illustration<o:p></o:p></span></b></p>

<p class=MsoNormal>The following diagram depicts the first sample input.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='page-break-after:avoid'><!--[if gte vml 1]><v:shapetype
 id="_x0000_t75" coordsize="21600,21600" o:spt="75" o:preferrelative="t"
 path="m@4@5l@4@11@9@11@9@5xe" filled="f" stroked="f">
 <v:stroke joinstyle="miter"/>
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0"/>
  <v:f eqn="sum @0 1 0"/>
  <v:f eqn="sum 0 0 @1"/>
  <v:f eqn="prod @2 1 2"/>
  <v:f eqn="prod @3 21600 pixelWidth"/>
  <v:f eqn="prod @3 21600 pixelHeight"/>
  <v:f eqn="sum @0 0 1"/>
  <v:f eqn="prod @6 1 2"/>
  <v:f eqn="prod @7 21600 pixelWidth"/>
  <v:f eqn="sum @8 21600 0"/>
  <v:f eqn="prod @7 21600 pixelHeight"/>
  <v:f eqn="sum @10 21600 0"/>
 </v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
 <o:lock v:ext="edit" aspectratio="t"/>
</v:shapetype><v:shape id="_x0000_i1025" type="#_x0000_t75" style='width:203.25pt;
 height:162pt'>
 <v:imagedata src="IMAGES/image001.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=271 height=216
src="p11030.jpg" v:shapes="_x0000_i1025"><![endif]></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Pink spot <span style='font-family:Wingdings;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-char-type:symbol;
mso-symbol-font-family:Wingdings'><span style='mso-char-type:symbol;mso-symbol-font-family:
Wingdings'>à</span></span> starting position</p>

<p class=MsoNormal>Black spot <span style='font-family:Wingdings;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-char-type:symbol;
mso-symbol-font-family:Wingdings'><span style='mso-char-type:symbol;mso-symbol-font-family:
Wingdings'>à</span></span> target</p>

<p class=MsoNormal>The three hops are shown by three broad line segments.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

</div>

</body>

</html>
