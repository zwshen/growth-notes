<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<title>I - Walking on a Grid</title>
<style>
<!--
.GramE
	{}
.Section1
	{page:Section1;}
-->
</style>
</head>
<body bgcolor="#FFFFFF" link=blue vlink=purple class="Normal" lang=EN-US> 
<div class=Section1> 
  <table width="100%" border=1 cellpadding=0 cellspacing=0> 
    <tr> 
      <td colspan=2 class="Normal"> <p align=center style='text-align:center'><i><span style='font-size:20.0pt;font-family:Garamond;'>4<sup>th</sup> </span></i><i><span style='font-size:20.0pt;
    font-family:Garamond;    '>IIUC</span></i><i><span style='font-size:20.0pt;font-family:Garamond;'> </span></i><i><span
    style='font-size:20.0pt;font-family:Garamond;
    '>Inter-University</span></i><i><span style='font-size:20.0pt;font-family:Garamond;'> Programming Contest, 2005</span></i></p></td> 
    </tr> 
    <tr> 
      <td width=14% rowspan=3 class="Normal"> <p align=center style='text-align:center'><b><span
  style='font-size:60.0pt;font-family:Arial'>I</span></b></p></td> 
      <td class="Normal"> <p align=center style='text-align:center'><b><span style='font-size:20.0pt;font-family:Arial'>Walking on a Grid</span></b></p></td> 
    </tr> 
    <tr> 
      <td class="Normal"> <p><b><span style='font-size:11.0pt;font-family:Arial'>Input: standard input<br>
      </span></b><b><span style='font-size:11.0pt;font-family:Arial'>Output: standard output</span></b></p>         </td> 
    </tr> 
    <tr> 
      <td class="Normal"> <p><b><span style='font-size:11.0pt;font-family:Arial'>Problemsetter: </span></b><b><span style='font-size:11.0pt;  font-family:Arial'>Sohel Hafiz</span></b></p></td> 
    </tr> 
  </table> 
  <p style='text-align:justify'>You will be given a square grid of size <b>N × N. </b>The top-left square has a coordinate of (1, 1) and that of bottom-right is (<b>N, N</b>). Your job is to walk from <b>(1, 1)</b> to <b>(N, N)</b>.<b> </b><span class=GramE>Very easy, right?</span> That’s why you have to follow some rules when walking.</p> 
  <ol start=1 type=1> 
    <li style='text-align:justify;     '>You can only move left, right or down.</li> 
    <li style='text-align:justify;     '>(<span class=GramE>i</span>, j-1) is left of (i, j), (i, j+1) is right of (i, j) and (i+1, j) is down of (i, j).</li> 
    <li style='text-align:justify;     '>You can never move outside the grid.</li> 
    <li style='text-align:justify;     '>You can not step on a cell more than once.</li> 
    <li style='text-align:justify;     '>Every cell has an integer associated with it.</li> 
    <li style='text-align:justify;     '>You have to make sure the sum of integers of the path is maximized.</li> 
    <li style='text-align:justify;     '>You can step on at most <b>k </b>negative integers from source to destination.</li> 
  </ol> 
  <p style='text-align:justify'><b><span style='font-size:16.0pt;
font-family:Arial'>Input</span></b></p> 
  <p style='text-align:justify'>Each case will start with two integers <b>N</b> and <b>k</b>. <b>N &#8804; 75</b> and <b>k &#8804; 5. </b>Each of the next <b>N</b> lines will contain <b>N</b> integers each given in row major order. That is, the first integer of the first row is (1, 1) and the last integer of last row is (<b>N, N</b>). Input terminates with two zeros on a line.</p> 
  <p style='text-align:justify'><b><span style='font-size:16.0pt;
font-family:Arial'>Output</span></b></p> 
  <p style='text-align:justify'>For every case output the case number. If it’s not possible to reach the destination meeting the above rules then output “impossible”, else print the maximum sum of integers of the path.</p> 
  <table border=1 cellspacing=0 cellpadding=0> 
    <tr> 
      <td width=308 valign=top class="Normal"> <p style='text-align:justify'><b><span style='font-size:16.0pt;
  font-family:Arial'>Sample Input</span></b></p></td> 
      <td width=308 valign=top class="Normal"> <p style='text-align:justify'><b><span style='font-size:16.0pt;
  font-family:Arial'>Output for Sample Input</span></b></p></td> 
    </tr> 
    <tr> 
      <td width=308 valign=top class="Normal"> <p style='text-align:justify'><b><span style='font-family:"Courier New"'>4 1<br>
      </span></b><b><span style='font-family:"Courier New"'>1 2 3 -5<br>
      </span></b><b><span style='font-family:"Courier New"'>-10 6 0 -1<br>
      </span></b><b><span style='font-family:"Courier New"'>-10 -10 -10 2<br>
      </span></b><b><span style='font-family:"Courier New"'>0 0 0 1<br>
      </span></b><b><span style='font-family:"Courier New"'>4 0<br>
      </span></b><b><span style='font-family:"Courier New"'>1 2 3 -5<br>
      </span></b><b><span style='font-family:"Courier New"'>-10 6 0 -1<br>
      </span></b><b><span style='font-family:"Courier New"'>-10 -10 -10 2<br>
      </span></b><b><span style='font-family:"Courier New"'>0 0 0 1<br>
      </span></b><b><span style='font-family:"Courier New";"Times New Roman"'>0 0</span></b></p>        </td> 
      <td width=308 valign=top class="Normal"> <p><b><span
  style='font-family:"Courier New"'>Case </span></b><b><span style='font-family:
   &quot;Courier New&quot;'>1: 11<br>
      </span></b><b><span
  style='font-family:"Courier New"'>Case 2: impossible</span></b></p>        </td> 
    </tr> 
  </table> 
</div> 
</body>
</html>
